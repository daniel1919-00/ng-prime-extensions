import{A as ze,E as je,c as se,d as He,f as Le,p as Pe,q as Oe,r as me,z as ke}from"./chunk-Z3MO2Q24.js";import{$ as s,$b as le,C as M,E as U,H as F,Ha as ae,Hb as Fe,Ia as re,Jb as Y,K as d,Ka as A,Kb as ee,L as f,Ma as z,Mb as x,Na as D,Oa as Te,T as P,Ta as oe,U as m,Ua as j,V as y,W as o,Wa as Ie,Xa as L,Y as ie,Ya as R,Za as J,_ as H,_a as Ee,_b as Me,aa as r,b as be,ba as g,bb as X,bc as ce,c as ve,ca as O,cc as de,da as k,dc as pe,ea as T,fa as $,ga as I,ha as h,ia as ne,j as ye,ja as K,ka as Q,m as Ce,ma as W,mb as Ae,na as G,o as N,oa as E,ob as De,pa as l,qa as _e,ra as xe,s as C,t as q,w as te,x as B,xa as Z,y as V,ya as Se,za as _,zb as we}from"./chunk-4CMOSILK.js";import{f as fe}from"./chunk-EQDQRRRY.js";var Re={html:`
<div class="dm:grid dm:align-items-center dm:justify-content-center">
    <input class="dm:col search-input" pInputText (input)="search$.next(($any($event.target).value || '').trim())" placeholder="Search"/>
</div>
<br>
<h2>Default accordion template</h2>
   <px-searchable-accordion [entries]="entries" [searchString]="search$">

   </px-searchable-accordion>
<br><br>
<h2>Custom accordion template</h2>
<px-searchable-accordion [entries]="entries" [headerTemplate]="customHeaderTemplate" [contentTemplate]="customContentTemplate" [searchString]="search$">
   <ng-template #customHeaderTemplate let-entry>
        <div class="dm:grid dm:col-12 dm:justify-content-between dm:align-content-center">
            <span class="dm:col">
                Custom Header for:&nbsp; <span [innerHTML]="entry.header"></span>
                &nbsp;
                <i class="pi pi-heart"></i>
            </span>
            <p-badge class="dm:col-fixed" value="1" />
        </div>
   </ng-template>
   <ng-template #customContentTemplate let-entry>
       <span [innerHTML]="entry.content"></span>
       &nbsp;
       <i class="pi pi-heart"></i>
   </ng-template>
</px-searchable-accordion>
    `,ts:`
import { Component } from '@angular/core';
import {CodeExampleComponent} from "../../components/code-example/code-example.component";
import {FloatLabelModule} from "primeng/floatlabel";
import {LibraryDocumentationComponent} from "../../components/library-documentation/library-documentation.component";
import {ReactiveFormsModule, UntypedFormBuilder, UntypedFormGroup} from "@angular/forms";
import {pxSearchableAccordionCodeExample} from "./code-example";
import {
    PxSearchableAccordionComponent
} from "../../../../projects/px-searchable-accordion/src/lib/px-searchable-accordion.component";
import {PxSearchableAccordionEntry} from "../../../../projects/px-searchable-accordion/src/lib/px-searchable-accordion";
import {BadgeModule} from "primeng/badge";
import {Subject} from "rxjs";
import {InputTextModule} from "primeng/inputtext";

@Component({
  selector: 'app-px-searchable-accordion-docs',
  standalone: true,
    imports: [
        LibraryDocumentationComponent,
        CodeExampleComponent,
        ReactiveFormsModule,
        FloatLabelModule,
        PxSearchableAccordionComponent,
        BadgeModule,
        InputTextModule,
    ],
  templateUrl: './px-searchable-accordion-docs.component.html',
  styleUrl: './px-searchable-accordion-docs.component.scss'
})
export class PxSearchableAccordionDocsComponent {
    protected readonly pxSearchableAccordionCodeExample = pxSearchableAccordionCodeExample;
    protected form: UntypedFormGroup;

    protected entries: PxSearchableAccordionEntry[] = [];
    protected search$ = new Subject<string>();

    constructor(
        fb: UntypedFormBuilder,
    ) {
        this.form = fb.group({
            config: fb.group({
                config: ['0'],
            })
        });

        this.entries.push({
            header: 'Demo entry',
            content: \`
                <h1>HTML Ipsum Presents</h1>
                <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

                <h2>Header Level 2</h2>

                <ol>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ol>

                <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p></blockquote>

                <h3>Header Level 3</h3>

                <ul>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ul>
            \`
        });

        for(let i = 1; i < 5; ++i) {
            this.entries.push({
                header: 'Entry ' + i,
                content: \`<strong>Description</strong> <a href="https://github.com/daniel1919-00/ng-prime-extensions" target="_blank">GitHub link</a>\`
            });
        }
    }
}
    `,styles:""};var Qe=["*",[["p-header"]]],We=["*","p-header"],Ge=t=>({$implicit:t}),Ne=t=>({transitionParams:t}),Ze=t=>({value:"visible",params:t}),Je=t=>({value:"hidden",params:t});function Xe(t,c){if(t&1&&g(0,"span",11),t&2){let e=h(3);H(e.accordion.collapseIcon),o("ngClass",e.iconClass),y("aria-hidden",!0)}}function Ye(t,c){if(t&1&&g(0,"ChevronDownIcon",11),t&2){let e=h(3);o("ngClass",e.iconClass),y("aria-hidden",!0)}}function et(t,c){if(t&1&&(O(0),m(1,Xe,1,4,"span",9)(2,Ye,1,2,"ChevronDownIcon",10),k()),t&2){let e=h(2);d(),o("ngIf",e.accordion.collapseIcon),d(),o("ngIf",!e.accordion.collapseIcon)}}function tt(t,c){if(t&1&&g(0,"span",11),t&2){let e=h(3);H(e.accordion.expandIcon),o("ngClass",e.iconClass),y("aria-hidden",!0)}}function it(t,c){if(t&1&&g(0,"ChevronRightIcon",11),t&2){let e=h(3);o("ngClass",e.iconClass),y("aria-hidden",!0)}}function nt(t,c){if(t&1&&(O(0),m(1,tt,1,4,"span",9)(2,it,1,2,"ChevronRightIcon",10),k()),t&2){let e=h(2);d(),o("ngIf",e.accordion.expandIcon),d(),o("ngIf",!e.accordion.expandIcon)}}function at(t,c){if(t&1&&(O(0),m(1,et,3,2,"ng-container",3)(2,nt,3,2,"ng-container",3),k()),t&2){let e=h();d(),o("ngIf",e.selected),d(),o("ngIf",!e.selected)}}function rt(t,c){}function ot(t,c){t&1&&m(0,rt,0,0,"ng-template")}function st(t,c){if(t&1&&(s(0,"span",12),l(1),r()),t&2){let e=h();d(),xe(" ",e.header," ")}}function lt(t,c){t&1&&T(0)}function ct(t,c){t&1&&K(0,1,["*ngIf","hasHeaderFacet"])}function dt(t,c){t&1&&T(0)}function pt(t,c){if(t&1&&(O(0),m(1,dt,1,0,"ng-container",6),k()),t&2){let e=h();d(),o("ngTemplateOutlet",e.contentTemplate)}}var mt=["*"],ue=(()=>{class t{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new M;headerFacet;templates;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(e,i,n){this.el=i,this.changeDetector=n,this.accordion=e,this.id=we()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:i});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected&&(this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){e=i;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(i){return new(i||t)(f(Ce(()=>ge)),f(U),f(z))};static \u0275cmp=C({type:t,selectors:[["p-accordionTab"]],contentQueries:function(i,n,a){if(i&1&&(Q(a,Fe,4),Q(a,Y,4)),i&2){let p;W(p=G())&&(n.headerFacet=p),W(p=G())&&(n.templates=p)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",D],cache:[2,"cache","cache",D],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",Te]},outputs:{selectedChange:"selectedChange"},features:[P],ngContentSelectors:We,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(i,n){i&1&&(ne(Qe),s(0,"div",0)(1,"div",1)(2,"a",2),I("click",function(p){return n.toggle(p)})("keydown",function(p){return n.onKeydown(p)}),m(3,at,3,2,"ng-container",3)(4,ot,1,0,null,4)(5,st,2,1,"span",5)(6,lt,1,0,"ng-container",6)(7,ct,1,0,"ng-content",3),r()(),s(8,"div",7)(9,"div",8),K(10),m(11,pt,2,1,"ng-container",3),r()()()),i&2&&(ie("p-accordion-tab-active",n.selected),o("ngClass",n.tabStyleClass)("ngStyle",n.tabStyle),y("data-pc-name","accordiontab"),d(),ie("p-highlight",n.selected)("p-disabled",n.disabled),y("aria-level",n.headerAriaLevel)("data-p-disabled",n.disabled)("data-pc-section","header"),d(),o("ngClass",n.headerStyleClass)("ngStyle",n.headerStyle),y("tabindex",n.disabled?null:0)("id",n.getTabHeaderActionId(n.id))("aria-controls",n.getTabContentId(n.id))("aria-expanded",n.selected)("aria-disabled",n.disabled)("data-pc-section","headeraction"),d(),o("ngIf",!n.iconTemplate),d(),o("ngTemplateOutlet",n.iconTemplate)("ngTemplateOutletContext",_(34,Ge,n.selected)),d(),o("ngIf",!n.hasHeaderFacet),d(),o("ngTemplateOutlet",n.headerTemplate),d(),o("ngIf",n.hasHeaderFacet),d(),o("@tabContent",n.selected?_(38,Ze,_(36,Ne,n.transitionOptions)):_(42,Je,_(40,Ne,n.transitionOptions))),y("id",n.getTabContentId(n.id))("aria-hidden",!n.selected)("aria-labelledby",n.getTabHeaderActionId(n.id))("data-pc-section","toggleablecontent"),d(),o("ngClass",n.contentStyleClass)("ngStyle",n.contentStyle),d(2),o("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},dependencies:()=>[j,L,J,R,se,me],styles:[`@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}
`],encapsulation:2,data:{animation:[Me("tabContent",[de("hidden",ce({height:"0",visibility:"hidden"})),de("visible",ce({height:"*",visibility:"visible"})),pe("visible <=> hidden",[le("{{transitionParams}}")]),pe("void => *",le(0))])]},changeDetection:0})}return t})(),ge=(()=>{class t{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new M;onOpen=new M;activeIndexChange=new M;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(e,i){this.el=e,this.changeDetector=i}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}focusedElementIsAccordionHeader(){return document.activeElement.tagName.toLowerCase()==="a"&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(e){if(this.focusedElementIsAccordionHeader()){let i=this.findNextHeaderAction(e.target.parentElement.parentElement.parentElement);i?this.changeFocusedTab(i):this.onTabHomeKey(e),e.preventDefault()}}onTabArrowUpKey(e){if(this.focusedElementIsAccordionHeader()){let i=this.findPrevHeaderAction(e.target.parentElement.parentElement.parentElement);i?this.changeFocusedTab(i):this.onTabEndKey(e),e.preventDefault()}}onTabHomeKey(e){let i=this.findFirstHeaderAction();this.changeFocusedTab(i),e.preventDefault()}changeFocusedTab(e){e&&(x.focus(e),this.selectOnFocus&&this.tabs.forEach((i,n)=>{let a=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),i.id==e.id&&(i.selected=!i.selected,this._activeIndex.includes(n)?this._activeIndex=this._activeIndex.filter(p=>p!==n):this._activeIndex.push(n))):i.id==e.id?(i.selected=!i.selected,this._activeIndex=n):i.selected=!1,i.selectedChange.emit(a),this.activeIndexChange.emit(this._activeIndex),i.changeDetector.markForCheck()}))}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling,a=x.findSingle(n,'[data-pc-section="header"]');return a?x.getAttribute(a,"data-p-disabled")?this.findNextHeaderAction(a.parentElement.parentElement):x.findSingle(a,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling,a=x.findSingle(n,'[data-pc-section="header"]');return a?x.getAttribute(a,"data-p-disabled")?this.findPrevHeaderAction(a.parentElement.parentElement):x.findSingle(a,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes[0];return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes,i=e[e.length-1];return this.findPrevHeaderAction(i,!0)}onTabEndKey(e){let i=this.findLastHeaderAction();this.changeFocusedTab(i),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let i=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;i!==this.tabs[e].selected&&(this.tabs[e].selected=i,this.tabs[e].selectedChange.emit(i),this.tabs[e].changeDetector.markForCheck())}}isTabActive(e){return this.multiple?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,i){return e.props?e.props[i]:void 0}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((i,n)=>{if(i.selected)if(this.multiple)e.push(n);else{e=n;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(f(U),f(z))};static \u0275cmp=C({type:t,selectors:[["p-accordion"]],contentQueries:function(i,n,a){if(i&1&&Q(a,ue,5),i&2){let p;W(p=G())&&(n.tabList=p)}},hostAttrs:[1,"p-element"],hostBindings:function(i,n){i&1&&I("keydown",function(p){return n.onKeydown(p)})},inputs:{multiple:[2,"multiple","multiple",D],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",D],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[P],ngContentSelectors:mt,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&(ne(),s(0,"div",0),K(1),r()),i&2&&(H(n.styleClass),o("ngClass","p-accordion p-component")("ngStyle",n.style))},dependencies:[j,R],encapsulation:2,changeDetection:0})}return t})(),qe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=q({type:t});static \u0275inj=N({imports:[X,se,me,ee]})}return t})();var Be=t=>({$implicit:t});function ut(t,c){t&1&&T(0)}function gt(t,c){if(t&1&&(s(0,"p"),m(1,ut,1,0,"ng-container",6),r()),t&2){let e=h(),i=E(10);d(),o("ngTemplateOutlet",e.noResultsTemplate?e.noResultsTemplate:i)}}function ft(t,c){t&1&&T(0)}function bt(t,c){if(t&1&&m(0,ft,1,0,"ng-container",10),t&2){let e=h().$implicit,i=h(),n=E(6);o("ngTemplateOutlet",i.headerTemplate?i.headerTemplate:n)("ngTemplateOutletContext",_(2,Be,e))}}function vt(t,c){t&1&&T(0)}function yt(t,c){if(t&1&&m(0,vt,1,0,"ng-container",10),t&2){let e=h().$implicit,i=h(),n=E(8);o("ngTemplateOutlet",i.contentTemplate?i.contentTemplate:n)("ngTemplateOutletContext",_(2,Be,e))}}function Ct(t,c){if(t&1&&(s(0,"p-accordionTab",7),m(1,bt,1,4,"ng-template",8)(2,yt,1,4,"ng-template",9),r()),t&2){let e=c.$implicit;o("selected",!!e.expanded),y("id",e.id)}}function _t(t,c){if(t&1&&g(0,"span",11),t&2){let e=c.$implicit;o("innerHTML",e.header,F)}}function xt(t,c){if(t&1&&g(0,"p",11),t&2){let e=c.$implicit;o("innerHTML",e.content,F)}}function St(t,c){t&1&&l(0,` No entries found
`)}var Ve=(()=>{class t{constructor(e,i,n,a){this.router=e,this.activatedRoute=i,this.changeDetector=n,this.document=a,this.searchDebounceTime=250,this.highlightWords=!0,this.highlightClass="px-searchable-accordion-highlight",this.allowUrlFragments=!0,this.filteredEntries=new ve([]),this.activeEntryIndex=null,this.lastSearchString="",this.searchQueryRegex=/[^a-zA-Z0-9\s]/g}ngOnChanges(e){e.searchString?(this.lastSearchString="",this.searchSub?.unsubscribe(),delete this.searchSub,typeof this.searchString=="string"?this.search(this.searchString).then():(this.search(this.lastSearchString).then(),this.searchSub=this.searchString.pipe(ye(this.searchDebounceTime)).subscribe(i=>this.search(i).then()))):e.entries&&(typeof this.searchString=="string"?this.search(this.searchString).then():this.search(this.lastSearchString).then())}ngAfterViewInit(){this.allowUrlFragments&&(this.routeFragmentsSub=this.activatedRoute.fragment.subscribe(e=>{if(e){let i=this.filteredEntries.getValue(),n=i.length;for(let a=0;a<n;a++){let p=i[a];if(p.id===e&&this.activeEntryIndex!==a){this.activeEntryIndex=a,this.changeDetector.detectChanges(),this.document.getElementById(p.id)?.scrollIntoView({behavior:"auto",block:"center",inline:"center"});break}}}}))}search(e){return fe(this,null,function*(){if(e=e.replace(this.searchQueryRegex,"").trim().toLowerCase(),e===""){this.filteredEntries.next(this.entries);return}else if(e===this.lastSearchString)return;this.lastSearchString=e;let i=this.entries,n=i.length,a=[];for(let p=0;p<n;++p){let u=i[p],b=u.header.toLowerCase(),w=u.content.toLowerCase(),S=b.indexOf(e)!==-1,v=w.indexOf(e)!==-1;(S||v)&&a.push(this.highlightWords?{header:S?this.highlightString(u.header,b,e):u.header,content:v?this.highlightString(u.content,w,e):u.content,expanded:u.expanded,data:u.data}:u)}this.filteredEntries.next(a)})}activeIndexChanged(e){if(Array.isArray(e)&&(e=e[0]),this.activeEntryIndex=e,!(e&&this.allowUrlFragments))return;let i=this.filteredEntries.getValue();if(!i.length)return;let n=i[e];n.id&&this.router.navigate([],{fragment:n.id}).then()}highlightString(e,i,n){let a=[],p=e.length,u=this.highlightClass,b=[],w=!1;for(let S=0;S<p;++S){let v=e[S];if(w)v===">"&&(w=!1);else if(v==="<")w=!0;else if(n.indexOf(i[S])!==-1){b.push(v);continue}else b.length&&(b.length===n.length?v='<span class="'+u+'">'+b.join("")+"</span>"+v:v=b.join("")+v,b=[]);a.push(v)}return b.length&&(b.length===n.length?a.push('<span class="'+u+'">'+b.join("")+"</span>"):a.push(b.join(""))),a.join("")}ngOnDestroy(){this.searchSub?.unsubscribe(),this.filteredEntries.complete(),this.routeFragmentsSub?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(f(De),f(Ae),f(z),f(oe))}}static{this.\u0275cmp=C({type:t,selectors:[["px-searchable-accordion"]],inputs:{entries:"entries",searchString:"searchString",headerTemplate:"headerTemplate",contentTemplate:"contentTemplate",noResultsTemplate:"noResultsTemplate",searchDebounceTime:"searchDebounceTime",highlightWords:"highlightWords",highlightClass:"highlightClass",allowUrlFragments:"allowUrlFragments"},standalone:!0,features:[te,Z],decls:11,vars:7,consts:[["defaultHeader",""],["defaultContent",""],["defaultNoResultsTemplate",""],[3,"activeIndexChange","activeIndex"],[4,"ngIf"],[3,"selected",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"selected"],["pTemplate","header"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,n){if(i&1){let a=$();s(0,"p-accordion",3),I("activeIndexChange",function(u){return B(a),V(n.activeIndexChanged(u))}),m(1,gt,2,1,"p",4),ae(2,"async"),m(3,Ct,3,2,"p-accordionTab",5),ae(4,"async"),r(),m(5,_t,1,1,"ng-template",null,0,A)(7,xt,1,1,"ng-template",null,1,A)(9,St,1,0,"ng-template",null,2,A)}if(i&2){let a;o("activeIndex",n.activeEntryIndex),d(),o("ngIf",!((a=re(2,3,n.filteredEntries))!=null&&a.length)),d(2),o("ngForOf",re(4,5,n.filteredEntries))}},dependencies:[qe,ge,ue,Y,Ie,J,Ee,L],styles:[`.px-searchable-accordion-highlight{padding:0;margin:0;background:var(--highlight-bg);color:var(--highlight-text-color);font-weight:700}
`],encapsulation:2})}}return t})();function Tt(t,c){if(t&1&&(s(0,"span",1),l(1),r()),t&2){let e=h();H(e.styleClass),o("ngClass",e.containerClass())("ngStyle",e.style),d(),_e(e.value)}}var Ue=(()=>{class t{styleClass;style;badgeSize;severity;value;badgeDisabled=!1;set size(e){this._size=e,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.value!=null&&String(this.value).length===1,"p-badge-lg":this.badgeSize==="large"||this.size==="large","p-badge-xl":this.badgeSize==="xlarge"||this.size==="xlarge",[`p-badge-${this.severity}`]:this.severity}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",badgeSize:"badgeSize",severity:"severity",value:"value",badgeDisabled:[2,"badgeDisabled","badgeDisabled",D],size:"size"},features:[P],decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(i,n){i&1&&m(0,Tt,2,5,"span",0),i&2&&o("ngIf",!n.badgeDisabled)},dependencies:[j,L,R],styles:[`@layer primeng{.p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}}
`],encapsulation:2,changeDetection:0})}return t})(),$e=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=q({type:t});static \u0275inj=N({imports:[X,ee]})}return t})();var Et=()=>["docIntl","docStyling"];function At(t,c){if(t&1&&(s(0,"div",16)(1,"span",17),l(2," Custom Header for:\xA0 "),g(3,"span",18),l(4," \xA0 "),g(5,"i",19),r(),g(6,"p-badge",20),r()),t&2){let e=c.$implicit;d(3),o("innerHTML",e.header,F)}}function Dt(t,c){if(t&1&&(g(0,"span",18),l(1," \xA0 "),g(2,"i",19)),t&2){let e=c.$implicit;o("innerHTML",e.content,F)}}var Si=(()=>{class t{constructor(e){this.pxSearchableAccordionCodeExample=Re,this.entries=[],this.entriesWithCustomTemplates=[],this.search$=new be,this.form=e.group({config:e.group({config:["0"]})}),this.entries.push({id:"demo-entry",header:"Demo entry",content:`
                <h1>HTML Ipsum Presents</h1>
                <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

                <h2>Header Level 2</h2>

                <ol>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ol>

                <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p></blockquote>

                <h3>Header Level 3</h3>

                <ul>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ul>
            `});for(let i=1;i<5;++i)this.entries.push({id:"entry-"+i,header:"Entry "+i,content:'<strong>Description</strong> <a href="https://github.com/daniel1919-00/ng-prime-extensions" target="_blank">GitHub link</a>'})}static{this.\u0275fac=function(i){return new(i||t)(f(Pe))}}static{this.\u0275cmp=C({type:t,selectors:[["app-px-searchable-accordion-docs"]],standalone:!0,features:[Z],decls:86,vars:9,consts:[["customHeaderTemplate",""],["customContentTemplate",""],["header","px-table",3,"hiddenSections"],["docDescription","",1,"primary-color"],["href","https://primeng.org","target","_blank"],["docOverview",""],[3,"code"],[1,"dm:grid","dm:align-items-center","dm:justify-content-center"],["pInputText","","placeholder","Search",1,"dm:col","search-input",3,"input"],[3,"entries","searchString"],[3,"entries","headerTemplate","contentTemplate","searchString"],["docApi",""],[1,"entry-group"],[1,"title"],[1,"entry"],[1,"dm:quote","code"],[1,"dm:grid","dm:col-12","dm:justify-content-between","dm:align-content-center"],[1,"dm:col"],[3,"innerHTML"],[1,"pi","pi-heart"],["value","1",1,"dm:col-fixed"]],template:function(i,n){if(i&1){let a=$();s(0,"app-library-documentation",2)(1,"span",3)(2,"a",4),l(3,"PrimeNG-based"),r(),l(4," library used to create searchable accordions. "),r(),s(5,"div",5)(6,"app-code-example",6)(7,"div",7)(8,"input",8),I("input",function(u){return B(a),V(n.search$.next((u.target.value||"").trim()))}),r()(),g(9,"br"),s(10,"h2"),l(11,"Default accordion template"),r(),g(12,"px-searchable-accordion",9)(13,"br")(14,"br"),s(15,"h2"),l(16,"Custom accordion template"),r(),s(17,"px-searchable-accordion",10),m(18,At,7,1,"ng-template",null,0,A)(20,Dt,3,1,"ng-template",null,1,A),r()()(),s(22,"div",11)(23,"div",12)(24,"h2",13),l(25,"Imports"),r(),s(26,"div",14)(27,"pre")(28,"code",15),l(29,"import { PxSearchableAccordionComponent } from '@ng-prime-extensions/px-searchable-accordion';"),r()()()(),s(30,"div",12)(31,"h2",13),l(32,"Inputs"),r(),s(33,"div",14)(34,"h3"),l(35,"entries"),r(),s(36,"p"),l(37,"Accordion entries to be rendered."),r()(),s(38,"div",14)(39,"h3"),l(40,"searchString"),r(),s(41,"p"),l(42,"A search string or an observable that emits the search string."),r()(),s(43,"div",14)(44,"h3"),l(45,"headerTemplate"),r(),s(46,"p"),l(47,"Template to render the header with."),r()(),s(48,"div",14)(49,"h3"),l(50,"contentTemplate"),r(),s(51,"p"),l(52,"Template to render the content with."),r()(),s(53,"div",14)(54,"h3"),l(55,"noResultsTemplate"),r(),s(56,"p"),l(57,"Template to render the no results message."),r()(),s(58,"div",14)(59,"h3"),l(60,"searchDebounceTime"),r(),s(61,"p"),l(62,"Search delay time in milliseconds."),r()(),s(63,"div",14)(64,"h3"),l(65,"highlightWords"),r(),s(66,"p"),l(67,"Weather searched words will be highlighted."),r()(),s(68,"div",14)(69,"h3"),l(70,"highlightClass"),r(),s(71,"p"),l(72,"The css class applied to the highlighted words."),r()(),s(73,"div",14)(74,"h3"),l(75,"allowUrlFragments"),r(),s(76,"p"),l(77,"If true, url fragments will be generated based on the set entry id."),r()()(),s(78,"div",12)(79,"h2",13),l(80,"Public methods"),r(),s(81,"div",14)(82,"h3"),l(83,"search"),r(),s(84,"p"),l(85,"Searches the available entries for the given search string."),r()()()()()}if(i&2){let a=E(19),p=E(21);o("hiddenSections",Se(8,Et)),d(6),o("code",n.pxSearchableAccordionCodeExample),d(6),o("entries",n.entries)("searchString",n.search$),d(5),o("entries",n.entriesWithCustomTemplates)("headerTemplate",a)("contentTemplate",p)("searchString",n.search$)}},dependencies:[je,He,Oe,Le,Ve,$e,Ue,ze,ke],styles:[".search-input[_ngcontent-%COMP%]{max-width:500px}"]})}}return t})();export{Si as PxSearchableAccordionDocsComponent};
