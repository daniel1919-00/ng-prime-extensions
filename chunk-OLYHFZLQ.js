import{A as Re,E as je,d as Oe,e as Ie,f as Se,h as Fe,i as Te,j as De,k as Ue,l as Ae,m as ke,o as Ne,p as Le,q as ze,x as Ve,y as Qe,z as Be}from"./chunk-4MFKQGKN.js";import{$ as r,Aa as C,Ba as ge,C as ae,Gb as Q,Ha as R,I as pe,Ia as j,Jb as we,K as u,Ka as xe,L as P,Ma as he,Na as _e,Oa as ve,T as se,U as v,Ua as L,V as I,Vb as Pe,W as d,Wa as Ce,Wb as Me,Xa as z,Ya as Ee,Z as w,Za as V,_ as T,aa as l,b as W,ba as _,bb as be,db as G,e as J,ea as F,fa as D,fb as ye,ga as S,ha as g,i as Y,k as ee,ka as de,la as ue,ma as U,na as A,o as te,oa as B,p as ne,pa as p,qa as y,r as ie,ra as me,s as O,sa as ce,t as oe,v as re,w as le,wa as fe,x as E,xa as k,y as b,ya as x,za as N}from"./chunk-Z2C4DRGT.js";import{f as M}from"./chunk-EQDQRRRY.js";var Ge={ts:`
import {Component, OnDestroy} from '@angular/core';
import {LibraryDocumentationComponent} from "../../components/library-documentation/library-documentation.component";
import {CodeExampleComponent} from "../../components/code-example/code-example.component";
import {FormGroup, ReactiveFormsModule, UntypedFormBuilder} from "@angular/forms";
import {PxUploaderComponent} from "../../../../projects/px-uploader/src/lib/px-uploader.component";
import {PxEndpointConfig} from "../../../../projects/px-uploader/src/lib/px-uploader";
import {HttpClientModule} from "@angular/common/http";
import {DropdownModule} from "primeng/dropdown";
import {FloatLabelModule} from "primeng/floatlabel";
import {Subject, takeUntil} from "rxjs";

@Component({
  selector: 'app-px-uploader-docs',
  standalone: true,
    imports: [
        LibraryDocumentationComponent,
        ReactiveFormsModule,
        PxUploaderComponent,
        HttpClientModule,
        DropdownModule,
        FloatLabelModule
    ],
  templateUrl: './px-uploader-docs.component.html',
  styleUrl: './px-uploader-docs.component.scss'
})
export class PxUploaderDocsComponent implements OnDestroy {

    protected readonly pxUploaderCodeExample = pxUploaderCodeExample;
    protected form: FormGroup;
    saveEndpoint: PxEndpointConfig = {
        url: 'https://localhost/px-uploader'
    };

    private componentDestroyed$ = new Subject<void>();

    constructor(
        fb: UntypedFormBuilder
    ) {
        this.form = fb.group({
            multiple: ['0'],
            showImagePreview: ['1'],
            displayAs: ['list']
        });

        const storedFilters = localStorage.getItem('__px-uploader-config');
        if(storedFilters) {
            this.form.patchValue(JSON.parse(storedFilters));
        }

        this.form.valueChanges.pipe(takeUntil(this.componentDestroyed$)).subscribe(() => this.storeFilters());
    }

    private storeFilters() {
        localStorage.setItem('__px-uploader-config', JSON.stringify(this.form.value));
    }

    ngOnDestroy() {
        this.componentDestroyed$.next();
        this.componentDestroyed$.complete();
    }
}
    `,html:`
<h2>Configuration</h2>
<form [formGroup]="form" class="dm:grid dm:align-items-center">
    <p-floatLabel class="dm:col-12 dm:md:col-6 dm:lg:col-4 dm:xl:col-3">
        <p-dropdown [style]="{'width': '100%'}" inputId="[multiple]"
                    [options]="[{value: '0', desc: 'false'}, {value: '1', desc: 'true'}]"
                    optionLabel="desc" optionValue="value" formControlName="multiple"></p-dropdown>
        <label for="[multiple]">[multiple]</label>
    </p-floatLabel>

    <p-floatLabel class="dm:col-12 dm:md:col-6 dm:lg:col-4 dm:xl:col-3">
        <p-dropdown [style]="{'width': '100%'}" inputId="[showImagePreview]"
                    [options]="[{value: '0', desc: 'false'}, {value: '1', desc: 'true'}]"
                    optionLabel="desc" optionValue="value" formControlName="showImagePreview"></p-dropdown>
        <label for="[showImagePreview]">[showImagePreview]</label>
    </p-floatLabel>

    <p-floatLabel class="dm:col-12 dm:md:col-6 dm:lg:col-4 dm:xl:col-3">
        <p-dropdown [style]="{'width': '100%'}" inputId="[displayAs]"
                    [options]="[{value: 'list', desc: 'list'}, {value: 'grid', desc: 'grid'}]"
                    optionLabel="desc" optionValue="value" formControlName="displayAs"></p-dropdown>
        <label for="[displayAs]">[displayAs]</label>
    </p-floatLabel>
</form>

<br>
<h2>Result</h2>
<px-uploader
    [saveEndpoint]="saveEndpoint"
    label="My uploader"
    [multiple]="form.get('multiple')?.value === '1'"
    [showImagePreview]="form.get('showImagePreview')?.value === '1'"
    [displayAs]="form.get('displayAs')?.value || 'list'"
></px-uploader>
    `,styles:""};var h=function(e){return e[e.NO_FILES_MSG=0]="NO_FILES_MSG",e[e.UNKNOWN_ERROR=1]="UNKNOWN_ERROR",e[e.INVALID_EXTENSION=2]="INVALID_EXTENSION",e[e.MAX_SIZE_EXCEEDED=3]="MAX_SIZE_EXCEEDED",e[e.ALLOWED_EXTENSIONS=4]="ALLOWED_EXTENSIONS",e[e.MAX_FILE_SIZE=5]="MAX_FILE_SIZE",e[e.IMAGE_SIZE_CHECK_FAILED=6]="IMAGE_SIZE_CHECK_FAILED",e[e.IMAGE_SIZE_CHECK_TEXT=7]="IMAGE_SIZE_CHECK_TEXT",e}(h||{}),Xe=new ne("px-uploader i18n strings");var He=(()=>{let a=class a{constructor(){this.units=ie(Q).translation.fileSizeTypes||["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}transform(t,n=1024,o=2){let s=this.units;if(Math.abs(t)<n)return t+""+s[0];let m=s.length-1,c=0,f=10**1;do t/=n,++c;while(Math.round(Math.abs(t)*f)/f>=n&&c<m);return t.toFixed(o)+" "+s[c]}};a.\u0275fac=function(n){return new(n||a)},a.\u0275pipe=re({name:"pxFileSize",type:a,pure:!0,standalone:!0});let e=a;return e})();var Ye=(e,a)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":e,"p-progressbar-indeterminate":a}),et=(e,a)=>({width:e,display:"flex",background:a}),tt=e=>({$implicit:e}),nt=e=>({display:e}),it=e=>({background:e});function ot(e,a){if(e&1&&(r(0,"div",7),p(1),l()),e&2){let i=g(2);d("ngStyle",N(4,nt,i.value!=null&&i.value!==0?"flex":"none")),I("data-pc-section","label"),u(),ce(" ",i.value,"",i.unit," ")}}function rt(e,a){e&1&&F(0)}function lt(e,a){if(e&1&&(r(0,"div",3)(1,"div",4),v(2,ot,2,6,"div",5)(3,rt,1,0,"ng-container",6),l()()),e&2){let i=g();d("ngStyle",C(5,et,i.value+"%",i.color)),I("data-pc-section","value"),u(2),d("ngIf",i.showValue&&!i.contentTemplate),u(),d("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",N(8,tt,i.value))}}function at(e,a){if(e&1&&(r(0,"div",8),_(1,"div",3),l()),e&2){let i=g();I("data-pc-section","container"),u(),d("ngStyle",N(3,it,i.color)),I("data-pc-section","value")}}var Ze=(()=>{class e{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;default:this.contentTemplate=i.template}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=O({type:e,selectors:[["p-progressBar"]],contentQueries:function(t,n,o){if(t&1&&de(o,we,4),t&2){let s;U(s=A())&&(n.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",ve],showValue:[2,"showValue","showValue",_e],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[se],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(t,n){t&1&&(r(0,"div",0),v(1,lt,4,10,"div",1)(2,at,2,5,"div",2),l()),t&2&&(T(n.styleClass),d("ngStyle",n.style)("ngClass",C(11,Ye,n.mode==="determinate",n.mode==="indeterminate")),I("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),u(),d("ngIf",n.mode==="determinate"),u(),d("ngIf",n.mode==="indeterminate"))},dependencies:[L,z,V,Ee],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return e})(),qe=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=oe({type:e});static \u0275inj=te({imports:[be]})}return e})();var st=["fileInput"],dt=(e,a)=>({"px-uploader":!0,dragover:e,"no-label":a}),ut=(e,a)=>({file:e,isQueuedFile:!1,fileIndex:a}),mt=(e,a)=>({file:e,isQueuedFile:!0,fileIndex:a}),ct=(e,a,i)=>[e,a,i],ft=()=>({height:"1.2rem"}),Ke=()=>({"pointer-events":"visible"});function gt(e,a){if(e&1&&(r(0,"span",15),p(1),l()),e&2){let i=g();u(),me(" ",i.intl[i.PxUploaderIntl.ALLOWED_EXTENSIONS]+": "+i.allowedExtensionsText," ")}}function xt(e,a){if(e&1&&(r(0,"span",15),p(1),l()),e&2){let i=g();u(),y(i.intl[i.PxUploaderIntl.IMAGE_SIZE_CHECK_TEXT]+": "+i.maxImageSizeText)}}function ht(e,a){if(e&1&&(r(0,"span",16),p(1),l()),e&2){let i=g();u(),y(i.infoMessage)}}function _t(e,a){if(e&1&&F(0,17),e&2){let i=a.$implicit,t=a.index;g();let n=B(22);d("ngTemplateOutlet",n)("ngTemplateOutletContext",C(2,ut,i,t))}}function vt(e,a){if(e&1&&F(0,17),e&2){let i=a.$implicit,t=a.index;g();let n=B(22);d("ngTemplateOutlet",n)("ngTemplateOutletContext",C(2,mt,i,t))}}function Ct(e,a){if(e&1&&_(0,"p-progressBar",30),e&2){let i=g().file;w(x(4,ft)),d("mode",i.uploadProgress>0?"determinate":"indeterminate")("value",i.uploadProgress||0)}}function Et(e,a){if(e&1&&_(0,"i",31),e&2){let i=g().file,t=g();T(i.isUploading?(t.icons==null?null:t.icons.fileStatusIconUploading)||"pi pi-spin pi-spinner":i.uploadError!==void 0?(t.icons==null?null:t.icons.fileStatusIconError)||"pi pi-times-circle":(t.icons==null?null:t.icons.fileStatusIconQueued)||"pi pi-hourglass")}}function bt(e,a){if(e&1){let i=D();r(0,"p-button",32),S("onClick",function(){E(i);let n=g(),o=n.isQueuedFile,s=n.fileIndex,m=g();return b(o?m.removeFileFromQueue(s):m.removeFile(s))}),l()}if(e&2){let i=g(2);w(x(3,Ke)),d("icon",(i.icons==null?null:i.icons.removeFileButton)||"pi pi-trash")}}function yt(e,a){if(e&1){let i=D();r(0,"p-button",33),S("onClick",function(){E(i);let n=g().fileIndex,o=g();return b(o.retryUpload(n))}),l()}if(e&2){let i=g(2);w(x(3,Ke)),d("icon",(i.icons==null?null:i.icons.retryUploadButton)||"pi pi-refresh")}}function wt(e,a){if(e&1&&_(0,"img",34),e&2){let i=g().file;d("src",i.imagePreviewUrl,pe)}}function Pt(e,a){if(e&1&&(r(0,"div",18),v(1,Ct,1,5,"p-progressBar",19),r(2,"div",20)(3,"div",21),v(4,Et,1,2,"i",22),r(5,"div",23)(6,"span",24),p(7),l(),r(8,"span",25),p(9),R(10,"pxFileSize"),l()()(),r(11,"div",26)(12,"div",21)(13,"span",24),p(14),l()(),v(15,bt,1,4,"p-button",27)(16,yt,1,4,"p-button",28),l()(),v(17,wt,1,1,"img",29),l()),e&2){let i=a.file,t=a.isQueuedFile,n=g();d("ngClass",ge(12,ct,n.displayAs,n.showImagePreview&&i.imagePreviewUrl?"preview":"",i.uploadError!==void 0?"px-uploader-error":"")),u(),d("ngIf",i.isUploading||t&&i.uploadError===void 0),u(),d("ngClass",i.uploadError?"error":"success"),u(2),d("ngIf",t),u(3),y(i.name),u(2),y(j(10,10,i.size||0)),u(5),y(i.uploadError),u(),d("ngIf",!i.isUploading&&(i.uploadError===void 0||i.allowDelete===void 0||i.allowDelete)),u(),d("ngIf",t&&i.uploadError!==void 0&&i.canRetryUpload),u(),d("ngIf",n.showImagePreview&&i.imagePreviewUrl)}}var $e=(()=>{let a=class a{constructor(t,n,o,s){this.http=t,this.changeDetector=n,this.primeNGConfig=o,this.label="",this.multiple=!1,this.displayAs="list",this.allowedExtensions=[],this.maxFileSize=5*1024*1024,this.maxParallelUploads=5,this.showImagePreview=!0,this.uploadFinished=new ae,this._value=[],this.filesQueue=[],this.maxImageSizeText="",this.allowedExtensionsText="",this.hasFiles=!1,this.dragoverEventActive=!1,this.PxUploaderIntl=h,this.onChange=m=>m,this.onTouched=()=>{},this.isTouched=!1,this.isAngularFormValue=!1,this.uploadingFilesCount=0,this.processingUploadQueue=!1,this.intl=Object.assign({[h.NO_FILES_MSG]:"Drag & drop your files or click to browse",[h.UNKNOWN_ERROR]:"Upload Failed!",[h.INVALID_EXTENSION]:"Invalid file extension!",[h.MAX_SIZE_EXCEEDED]:"File size is too big!",[h.ALLOWED_EXTENSIONS]:"Allowed Extensions",[h.MAX_FILE_SIZE]:"Maximum file size",[h.IMAGE_SIZE_CHECK_FAILED]:"Maximum width or height exceeded.",[h.IMAGE_SIZE_CHECK_TEXT]:"Allowed image dimensions (HxW)"},s||{})}ngOnChanges(t){t.allowedExtensions&&(this.allowedExtensionsText=this.allowedExtensions.join(", "),!t.allowedExtensions.firstChange&&this.changeDetector.markForCheck()),t.maxImageSize&&this.maxImageSize?.length&&(this.maxImageSizeText=this.maxImageSize.map(n=>n.height+"x"+n.width).join(", "),!t.maxImageSize.firstChange&&this.changeDetector.markForCheck()),t.multiple&&!t.multiple.firstChange&&this.changeDetector.markForCheck()}openFilesInput(){this.fileInput.nativeElement.click()}get value(){return this._value}set value(t){Array.isArray(t)||(t=[t]),this._value=t,this.hasFiles=t.length>0,this.isAngularFormValue||(this.onChange(t),this.onTouched()),this.changeDetector.markForCheck()}writeValue(t){t&&(this.isAngularFormValue=!0,this.value=t,this.isAngularFormValue=!1)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=()=>!this.isTouched&&t}onFilesAdded(t){if(!(t&&t.length))return;this.multiple||(this.filesQueue[0]?.httpSubscription?.unsubscribe(),this.filesQueue=[],this.value=[],this.changeDetector.markForCheck());let n=this.multiple?t:[t[0]];for(let o=n.length;o--;){let s=n[o];this.checkFile(s).then(m=>{let c={name:s.name,uploadProgress:0,size:s.size,canRetryUpload:m==="",imagePreviewUrl:s.type.includes("image")?URL.createObjectURL(s):"",uploadedFile:s};m!==""&&(c.uploadError=m),this.filesQueue.push(c),this.processUploadQueue().then(),this.changeDetector.markForCheck()})}this.fileInput.nativeElement.value=""}processUploadQueue(){return M(this,null,function*(){if(this.processingUploadQueue||this.uploadingFilesCount===this.maxParallelUploads)return;this.processingUploadQueue=!0;let t=this.filesQueue,n=null,o=t.length,s=!1;for(let m=0;m<o;++m){let c=t[m];if(!c.uploadError){if(c.isUploading){s=!0;continue}n=c;break}}this.processingUploadQueue=!1,n?(n.httpSubscription=yield this.uploadFile(n),this.uploadingFilesCount<this.maxParallelUploads&&this.processUploadQueue().then()):s||this.uploadFinished.emit(this.value)})}uploadFile(t){return M(this,null,function*(){++this.uploadingFilesCount;let n=new FormData,o=t.uploadedFile,s=this.saveEndpoint,m=s.headers;t.isUploading=!0,n.append("file",o);let c=m instanceof Promise?yield m:m;return this.http.request(s.requestMethod||"POST",s.url,{reportProgress:!0,observe:"events",body:n,headers:c}).pipe(Y(()=>(t.uploadError=this.intl[h.UNKNOWN_ERROR],t.isUploading=!1,delete t.uploadProgress,--this.uploadingFilesCount,this.changeDetector.markForCheck(),J({})))).subscribe(f=>{switch(f.type){case G.UploadProgress:t.uploadProgress=Math.floor(f.loaded/(f.total||1)*100),this.changeDetector.markForCheck();break;case G.Response:--this.uploadingFilesCount,this.multiple||(this._value=[]);let q=this._value;q.push({name:o.name,size:o.size,type:o.type,imagePreviewUrl:o.type.includes("image")?URL.createObjectURL(o):"",metaData:f.body||{}}),this.value=q;let K=this.filesQueue,$=K.indexOf(t);$>-1&&K.splice($,1),this.processUploadQueue();break}})})}retryUpload(t){let n=this.filesQueue[t];n&&(delete n.uploadError,this.processUploadQueue().then())}removeFileFromQueue(t){this.filesQueue.splice(t,1)}removeFile(t){return M(this,null,function*(){let n=this._value.splice(t,1)[0];if(this.deleteEndpoint){let o=this.deleteEndpoint,s=o.headers instanceof Promise?yield o.headers:o.headers;this.http.request(o.url,o.requestMethod||"DELETE",{body:[n],headers:s}).subscribe()}this.hasFiles=this._value.length>0})}onDragEnter(t){t.preventDefault(),this.dragoverEventActive=!0}onDragover(t){t.preventDefault(),this.dragoverEventActive||(this.dragoverEventActive=!0)}onDragLeave(t){t.preventDefault(),this.dragoverEventActive=!1}onFilesDropped(t){t.preventDefault();let n=t.dataTransfer?.files;n&&this.onFilesAdded(n),this.dragoverEventActive=!1}checkFile(t){return M(this,null,function*(){if(t.size>this.maxFileSize)return this.intl[h.MAX_SIZE_EXCEEDED];let n=this.allowedExtensions;if(n.length){let o=t.name.lastIndexOf(".");if(!(o>0&&n.indexOf(t.name.substring(o+1).toLowerCase())!==-1))return this.intl[h.INVALID_EXTENSION]}if(t.type.includes("image")&&this.maxImageSize?.length){let o=this.maxImageSize,s=yield this.getImageSize(URL.createObjectURL(t)),m=!0;for(let c=o.length;c--;){let f=o[c];if(f.width!==void 0&&f.height!==void 0&&f.width===s.width&&f.height===s.height){m=!1;break}else if(f.width!==void 0&&f.height===void 0&&f.width===s.width){m=!1;break}else if(f.height!==void 0&&f.width===void 0&&f.height===s.height){m=!1;break}}if(m)return this.intl[h.IMAGE_SIZE_CHECK_FAILED]}return""})}getImageSize(t){return M(this,null,function*(){return new Promise((n,o)=>{let s=new Image;s.onload=()=>{n({width:s.width,height:s.height})},s.onerror=()=>{o("Error loading image")},s.src=t})})}ngOnDestroy(){this.uploadFinished.complete()}};a.\u0275fac=function(n){return new(n||a)(P(ye),P(he),P(Q),P(Xe,8))},a.\u0275cmp=O({type:a,selectors:[["px-uploader"]],viewQuery:function(n,o){if(n&1&&ue(st,5),n&2){let s;U(s=A())&&(o.fileInput=s.first)}},inputs:{saveEndpoint:"saveEndpoint",deleteEndpoint:"deleteEndpoint",label:"label",multiple:"multiple",displayAs:"displayAs",allowedExtensions:"allowedExtensions",maxFileSize:"maxFileSize",maxParallelUploads:"maxParallelUploads",showImagePreview:"showImagePreview",maxImageSize:"maxImageSize",icons:"icons",infoMessage:"infoMessage",value:"value"},outputs:{uploadFinished:"uploadFinished"},standalone:!0,features:[fe([{provide:Fe,multi:!0,useExisting:a}]),le,k],decls:23,vars:18,consts:[["fileInput",""],["file",""],[3,"dragleave","dragover","dragenter","drop","ngClass"],[1,"px-uploader-label"],[1,"px-uploader-info"],[2,"display","flex","align-items","center","flex-wrap","wrap"],[1,"px-uploader-upload-button",3,"onClick","icon","label"],[1,"px-uploader-info-primary"],[1,"px-uploader-msg"],[1,"px-uploader-info-secondary"],["class","px-uploader-info-secondary-msg",4,"ngIf"],["class","px-uploader-info-secondary-info-msg",4,"ngIf"],[1,"px-uploader-files"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["type","file",2,"display","none",3,"change","accept","multiple"],[1,"px-uploader-info-secondary-msg"],[1,"px-uploader-info-secondary-info-msg"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"px-uploader-file",3,"ngClass"],["class","px-uploader-file-upload-progress",3,"mode","value","style",4,"ngIf"],[1,"px-uploader-file-header",3,"ngClass"],[1,"px-uploader-file-info"],["class","px-uploader-file-status-icon",3,"class",4,"ngIf"],[1,"px-uploader-file-info","flex-column"],[1,"px-uploader-file-info-primary"],[1,"px-uploader-file-info-secondary"],[1,"px-uploader-file-info","actions"],["severity","warning",3,"icon","style","onClick",4,"ngIf"],[3,"icon","style","onClick",4,"ngIf"],["class","px-uploader-file-preview","alt","",3,"src",4,"ngIf"],[1,"px-uploader-file-upload-progress",3,"mode","value"],[1,"px-uploader-file-status-icon"],["severity","warning",3,"onClick","icon"],[3,"onClick","icon"],["alt","",1,"px-uploader-file-preview",3,"src"]],template:function(n,o){if(n&1){let s=D();r(0,"div",2),S("dragleave",function(c){return E(s),b(o.onDragLeave(c))})("dragover",function(c){return E(s),b(o.onDragover(c))})("dragenter",function(c){return E(s),b(o.onDragEnter(c))})("drop",function(c){return E(s),b(o.onFilesDropped(c))}),r(1,"label",3),p(2),l(),r(3,"div",4)(4,"div",5)(5,"p-button",6),S("onClick",function(){return E(s),b(o.openFilesInput())}),l(),r(6,"div",7)(7,"label",8),p(8),l()()(),r(9,"div",9),v(10,gt,2,1,"span",10),r(11,"span"),p(12),R(13,"pxFileSize"),l(),v(14,xt,2,1,"span",10)(15,ht,2,1,"span",11),l()(),r(16,"div",12),v(17,_t,1,5,"ng-container",13)(18,vt,1,5,"ng-container",13),l()(),r(19,"input",14,0),S("change",function(c){return E(s),b(o.onFilesAdded(c.target.files))}),l(),v(21,Pt,18,16,"ng-template",null,1,xe)}n&2&&(d("ngClass",C(15,dt,o.dragoverEventActive,o.label==="")),u(2),y(o.label),u(3),d("icon",(o.icons==null?null:o.icons.uploadButton)||"pi pi-upload")("label",o.primeNGConfig.translation.upload),u(3),y(o.intl[o.PxUploaderIntl.NO_FILES_MSG]),u(2),d("ngIf",o.allowedExtensions.length),u(2),y(o.intl[o.PxUploaderIntl.MAX_FILE_SIZE]+": "+j(13,13,o.maxFileSize)),u(2),d("ngIf",o.maxImageSizeText),u(),d("ngIf",o.infoMessage),u(2),d("ngForOf",o._value),u(),d("ngForOf",o.filesQueue),u(),d("accept",o.allowedExtensions.length?"."+o.allowedExtensions.join(",."):null)("multiple",o.multiple))},dependencies:[He,V,L,qe,Ze,z,Ce,Me,Pe],styles:['.px-uploader[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:column;box-sizing:border-box;min-height:50px;border:1px solid var(--surface-border);border-radius:var(--border-radius);background:var(--surface-card);color:inherit;padding:var(--content-padding)}.px-uploader[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .px-uploader[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:before, .px-uploader[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:inherit}.px-uploader[_ngcontent-%COMP%]   .px-uploader-label[_ngcontent-%COMP%]{color:inherit;font-size:1.3rem;font-weight:700;padding-bottom:calc(var(--content-padding) * .8)}.px-uploader.no-label[_ngcontent-%COMP%]   .px-uploader-label[_ngcontent-%COMP%]{display:none}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;color:inherit}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-upload-button[_ngcontent-%COMP%]{margin:1rem 1rem 1rem 0}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-primary[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;color:inherit;padding-right:.8rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-primary[_ngcontent-%COMP%]   .px-uploader-msg[_ngcontent-%COMP%]{color:inherit}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-secondary[_ngcontent-%COMP%]{display:flex;color:inherit;flex-wrap:wrap;flex-shrink:1;flex-direction:column;justify-items:center;font-size:.9rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-secondary[_ngcontent-%COMP%]   .px-uploader-info-secondary-info-msg[_ngcontent-%COMP%]{max-width:30rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;max-height:var(--px-uploader-files-container-max-height, 20rem);overflow-y:auto}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]:not(:empty){border-top:1px solid var(--surface-border)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;position:relative;border:1px solid var(--surface-border);border-radius:var(--border-radius)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.list[_ngcontent-%COMP%]{flex-shrink:0;width:100%;margin-top:.8rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.grid[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:1;flex-basis:auto;margin:.4em}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]{height:var(--px-uploader-file-preview-height, 14rem)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:nowrap;width:100%;padding:var(--content-padding);z-index:2;border-radius:var(--border-radius) var(--border-radius) 0 0}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info.flex-column[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]   .px-uploader-file-status-icon[_ngcontent-%COMP%]{font-size:var(--px-uploader-file-info-status-icon-font-size, 2rem)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]   .px-uploader-file-info-primary[_ngcontent-%COMP%]{text-rendering:optimizeLegibility;font-weight:var(--px-uploader-file-info-primary-font-weight, 500);font-size:var(--px-uploader-file-info-primary-font-size, 1rem);padding:0 .4rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]   .px-uploader-file-info-secondary[_ngcontent-%COMP%]{text-rendering:optimizeLegibility;font-size:var(--px-uploader-file-info-secondary-font-size, .8rem);padding:0 .4rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info.actions[_ngcontent-%COMP%]{flex-wrap:nowrap;flex-direction:row;align-items:center}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info.actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:.4rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]{height:var(--px-uploader-file-preview-height, 18rem)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--primary-color),transparent 40%);color:var(--primary-color-text)}@supports (-webkit-backdrop-filter: blur(.2em)) or (backdrop-filter: blur(.2em)){.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(.18rem);backdrop-filter:blur(.18rem)}}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.px-uploader-error.preview[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--red-500),transparent 40%);color:var(--px-uploader-file-preview-header-background-color-error, white)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-preview[_ngcontent-%COMP%]{position:absolute;object-fit:contain;width:100%;height:100%;inset:0}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-upload-progress[_ngcontent-%COMP%]{width:100%;z-index:3}.px-uploader.dragover[_ngcontent-%COMP%]{border:1px solid var(--surface-border)}.px-uploader.dragover[_ngcontent-%COMP%]:before, .px-uploader.dragover[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-2px;border:2px solid var(--primary-color);transition:all .5s;animation:_ngcontent-%COMP%_dragoverClip 3s infinite linear;border-radius:var(--border-radius)}.px-uploader.dragover[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_dragoverClip 3s infinite -1.5s linear}.px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]{pointer-events:none}.px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-primary[_ngcontent-%COMP%], .px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-secondary[_ngcontent-%COMP%]{color:var(--primary-color)}.px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]{pointer-events:none}@keyframes _ngcontent-%COMP%_dragoverClip{0%,to{clip-path:inset(0 0 98% 0)}25%{clip-path:inset(0 98% 0 0)}50%{clip-path:inset(98% 0 0 0)}75%{clip-path:inset(0 0 0 98%)}}']});let e=a;return e})();var Mt=()=>["docIntl","docStyling"],H=()=>({width:"100%"}),We=()=>({value:"0",desc:"false"}),Je=()=>({value:"1",desc:"true"}),Z=(e,a)=>[e,a],Ot=()=>({value:"list",desc:"list"}),It=()=>({value:"grid",desc:"grid"}),Mn=(()=>{let a=class a{constructor(t){this.pxUploaderCodeExample=Ge,this.saveEndpoint={url:"https://localhost/px-uploader"},this.componentDestroyed$=new W,this.form=t.group({label:["My uploader"],multiple:["0"],showImagePreview:["1"],displayAs:["list"]});let n=localStorage.getItem("__px-uploader-config");n&&this.form.patchValue(JSON.parse(n)),this.form.valueChanges.pipe(ee(this.componentDestroyed$)).subscribe(()=>this.storeFilters())}storeFilters(){localStorage.setItem("__px-uploader-config",JSON.stringify(this.form.value))}ngOnDestroy(){this.componentDestroyed$.next(),this.componentDestroyed$.complete()}};a.\u0275fac=function(n){return new(n||a)(P(Le))},a.\u0275cmp=O({type:a,selectors:[["app-px-uploader-docs"]],standalone:!0,features:[k],decls:116,vars:36,consts:[["header","px-uploader",3,"hiddenSections"],["docDescription","",1,"primary-color"],["href","https://primeng.org","target","_blank"],["docOverview",""],[3,"code"],[1,"dm:grid","dm:align-items-center",3,"formGroup"],[1,"dm:col-12","dm:md:col-6","dm:lg:col-4","dm:xl:col-3"],["type","text","id","[label]","pInputText","","formControlName","label"],["for","[label]"],["inputId","[multiple]","optionLabel","desc","optionValue","value","formControlName","multiple",3,"options"],["for","[multiple]"],["inputId","[showImagePreview]","optionLabel","desc","optionValue","value","formControlName","showImagePreview",3,"options"],["for","[showImagePreview]"],["inputId","[displayAs]","optionLabel","desc","optionValue","value","formControlName","displayAs",3,"options"],["for","[displayAs]"],[3,"saveEndpoint","label","multiple","showImagePreview","displayAs"],["docApi",""],[1,"entry-group"],[1,"title"],[1,"entry"],[1,"dm:quote","code"],[1,"dm:quote"]],template:function(n,o){if(n&1&&(r(0,"app-library-documentation",0)(1,"span",1)(2,"a",2),p(3,"PrimeNG-based"),l(),p(4," library used to upload files. "),l(),r(5,"div",3)(6,"app-code-example",4)(7,"h2"),p(8,"Configuration"),l(),r(9,"form",5)(10,"p-floatLabel",6),_(11,"input",7),r(12,"label",8),p(13,"[label]"),l()(),r(14,"p-floatLabel",6),_(15,"p-dropdown",9),r(16,"label",10),p(17,"[multiple]"),l()(),r(18,"p-floatLabel",6),_(19,"p-dropdown",11),r(20,"label",12),p(21,"[showImagePreview]"),l()(),r(22,"p-floatLabel",6),_(23,"p-dropdown",13),r(24,"label",14),p(25,"[displayAs]"),l()()(),_(26,"br"),r(27,"h2"),p(28,"Result"),l(),_(29,"px-uploader",15),l()(),r(30,"div",16)(31,"div",17)(32,"h2",18),p(33,"Imports"),l(),r(34,"div",19)(35,"pre")(36,"code",20),p(37,"import { PxUploaderComponent } from '@ng-prime-extensions/px-uploader';"),l()()()(),r(38,"div",17)(39,"h2",18),p(40,"Inputs"),l(),r(41,"div",19)(42,"h3"),p(43,"saveEndpoint"),l(),r(44,"p"),p(45,"Endpoint that handles the upload."),l(),r(46,"pre")(47,"code",21),p(48,`export interface PxEndpointConfig {
    url: string;
    requestMethod?: string;
    headers?: HttpHeaders | { [p: string]: string | string[] { | Promise<HttpHeaders | {
        [p: string]: string | string[]
    }>;
}`),l()()(),r(49,"div",19)(50,"h3"),p(51,"deleteEndpoint"),l(),r(52,"p"),p(53,"Endpoint that handles file removal."),l()(),r(54,"div",19)(55,"h3"),p(56,"label"),l(),r(57,"p"),p(58,"Uploader label."),l()(),r(59,"div",19)(60,"h3"),p(61,"multiple"),l(),r(62,"p"),p(63,"Allow multiple files?"),l()(),r(64,"div",19)(65,"h3"),p(66,"displayAs"),l(),r(67,"p"),p(68,"Determines how the added files are rendered."),l()(),r(69,"div",19)(70,"h3"),p(71,"allowedExtensions"),l(),r(72,"p"),p(73,"A list of allowed file extensions(lowercase), if empty the extension check is skipped."),l(),r(74,"p"),p(75,"Example: ['txt', 'xlsx', ...]"),l()(),r(76,"div",19)(77,"h3"),p(78,"maxFileSize"),l(),r(79,"p"),p(80,"Maximum file size in bytes. Default: 5MB."),l()(),r(81,"div",19)(82,"h3"),p(83,"maxParallelUploads"),l(),r(84,"p"),p(85,"How many files should we upload in parallel?"),l()(),r(86,"div",19)(87,"h3"),p(88,"showImagePreview"),l(),r(89,"p"),p(90,"Whether to show a preview when the uploaded file is an image."),l()(),r(91,"div",19)(92,"h3"),p(93,"maxImageSize"),l(),r(94,"p"),p(95,"Limits the maximum width and/or height of uploaded images."),l(),r(96,"p"),p(97,'Multiple sizes can be added in the array, for example you can check if the uploaded image has a width of 100 by passing [maxImageSize]="[{width: 100}]"'),l()(),r(98,"div",19)(99,"h3"),p(100,"icons"),l(),r(101,"p"),p(102,"Overwrite the default icons used."),l()(),r(103,"div",19)(104,"h3"),p(105,"infoMessage"),l(),r(106,"p"),p(107,"Additional message to be displayed to the user."),l()()(),r(108,"div",17)(109,"h2",18),p(110,"Outputs"),l(),r(111,"div",19)(112,"h3"),p(113,"uploadFinished"),l(),r(114,"p"),p(115,"Event triggered when all the files in the upload queue are uploaded."),l()()()()()),n&2){let s,m,c,f;d("hiddenSections",x(17,Mt)),u(6),d("code",o.pxUploaderCodeExample),u(3),d("formGroup",o.form),u(6),w(x(18,H)),d("options",C(21,Z,x(19,We),x(20,Je))),u(4),w(x(24,H)),d("options",C(27,Z,x(25,We),x(26,Je))),u(4),w(x(30,H)),d("options",C(33,Z,x(31,Ot),x(32,It))),u(6),d("saveEndpoint",o.saveEndpoint)("label",(s=o.form.get("label"))==null?null:s.value)("multiple",((m=o.form.get("multiple"))==null?null:m.value)==="1")("showImagePreview",((c=o.form.get("showImagePreview"))==null?null:c.value)==="1")("displayAs",((f=o.form.get("displayAs"))==null?null:f.value)||"list")}},dependencies:[je,Oe,ze,Ae,Te,De,Ue,ke,Ne,$e,Qe,Ve,Se,Ie,Re,Be],styles:["p-floatLabel[_ngcontent-%COMP%]{margin:16px 0}input[_ngcontent-%COMP%]{width:100%}"]});let e=a;return e})();export{Mn as PxUploaderDocsComponent};
