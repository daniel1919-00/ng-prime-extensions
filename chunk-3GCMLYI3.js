import{A as je,E as Re,c as le,d as Le,f as Me,p as ke,q as Pe,r as he,z as ze}from"./chunk-4MFKQGKN.js";import{$ as l,$b as ce,C as O,E as $,H,Ha as re,Hb as He,Ia as oe,Jb as ee,K as p,Ka as D,Kb as te,L as f,Ma as j,Mb as S,Na as w,Oa as Ie,T as k,Ta as se,U as m,Ua as R,V as C,W as s,Wa as Ae,Xa as M,Y as ne,Ya as N,Za as X,_ as L,_a as Ee,_b as Oe,aa as o,b as ve,ba as g,bb as Y,bc as de,c as _e,ca as P,cc as pe,da as z,dc as me,ea as I,fa as K,ga as A,ha as h,ia as ae,j as Ce,ja as Q,ka as W,m as ye,ma as G,mb as De,na as Z,o as q,oa as E,ob as we,pa as d,qa as xe,ra as Se,s as y,t as B,w as ie,x as V,xa as J,y as U,ya as Te,za as x,zb as Fe}from"./chunk-Z2C4DRGT.js";import{f as be}from"./chunk-EQDQRRRY.js";var Ne={html:`
<div class="dm:grid dm:align-items-center dm:justify-content-center">
    <input class="dm:col search-input" pInputText (input)="search$.next(($any($event.target).value || '').trim())" placeholder="Search"/>
</div>
<br>
<h2>Default accordion template</h2>
   <px-searchable-accordion [entries]="entries" [searchString]="search$">

   </px-searchable-accordion>
<br><br>
<h2>Custom accordion template</h2>
<px-searchable-accordion [entries]="entries" [headerTemplate]="customHeaderTemplate" [contentTemplate]="customContentTemplate" [searchString]="search$">
   <ng-template #customHeaderTemplate let-entry>
        <div class="dm:grid dm:col-12 dm:justify-content-between dm:align-content-center">
            <span class="dm:col">
                Custom Header for:&nbsp; <span [innerHTML]="entry.header"></span>
                &nbsp;
                <i class="pi pi-heart"></i>
            </span>
            <p-badge class="dm:col-fixed" value="1" />
        </div>
   </ng-template>
   <ng-template #customContentTemplate let-entry>
       <span [innerHTML]="entry.content"></span>
       &nbsp;
       <i class="pi pi-heart"></i>
   </ng-template>
</px-searchable-accordion>
    `,ts:`
import { Component } from '@angular/core';
import {CodeExampleComponent} from "../../components/code-example/code-example.component";
import {FloatLabelModule} from "primeng/floatlabel";
import {LibraryDocumentationComponent} from "../../components/library-documentation/library-documentation.component";
import {ReactiveFormsModule, UntypedFormBuilder, UntypedFormGroup} from "@angular/forms";
import {pxSearchableAccordionCodeExample} from "./code-example";
import {
    PxSearchableAccordionComponent
} from "../../../../projects/px-searchable-accordion/src/lib/px-searchable-accordion.component";
import {PxSearchableAccordionEntry} from "../../../../projects/px-searchable-accordion/src/lib/px-searchable-accordion";
import {BadgeModule} from "primeng/badge";
import {Subject} from "rxjs";
import {InputTextModule} from "primeng/inputtext";

@Component({
  selector: 'app-px-searchable-accordion-docs',
  standalone: true,
    imports: [
        LibraryDocumentationComponent,
        CodeExampleComponent,
        ReactiveFormsModule,
        FloatLabelModule,
        PxSearchableAccordionComponent,
        BadgeModule,
        InputTextModule,
    ],
  templateUrl: './px-searchable-accordion-docs.component.html',
  styleUrl: './px-searchable-accordion-docs.component.scss'
})
export class PxSearchableAccordionDocsComponent {
    protected readonly pxSearchableAccordionCodeExample = pxSearchableAccordionCodeExample;
    protected form: UntypedFormGroup;

    protected entries: PxSearchableAccordionEntry[] = [];
    protected search$ = new Subject<string>();

    constructor(
        fb: UntypedFormBuilder,
    ) {
        this.form = fb.group({
            config: fb.group({
                config: ['0'],
            })
        });

        this.entries.push({
            header: 'Demo entry',
            content: \`
                <h1>HTML Ipsum Presents</h1>
                <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

                <h2>Header Level 2</h2>

                <ol>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ol>

                <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p></blockquote>

                <h3>Header Level 3</h3>

                <ul>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ul>
            \`
        });

        for(let i = 1; i < 5; ++i) {
            this.entries.push({
                header: 'Entry ' + i,
                content: \`<strong>Description</strong> <a href="https://github.com/daniel1919-00/ng-prime-extensions" target="_blank">GitHub link</a>\`
            });
        }
    }
}
    `,styles:""};var We=["*",[["p-header"]]],Ge=["*","p-header"],Ze=i=>({$implicit:i}),qe=i=>({transitionParams:i}),Je=i=>({value:"visible",params:i}),Xe=i=>({value:"hidden",params:i});function Ye(i,a){if(i&1&&g(0,"span",11),i&2){let e=h(3);L(e.accordion.collapseIcon),s("ngClass",e.iconClass),C("aria-hidden",!0)}}function et(i,a){if(i&1&&g(0,"ChevronDownIcon",11),i&2){let e=h(3);s("ngClass",e.iconClass),C("aria-hidden",!0)}}function tt(i,a){if(i&1&&(P(0),m(1,Ye,1,4,"span",9)(2,et,1,2,"ChevronDownIcon",10),z()),i&2){let e=h(2);p(),s("ngIf",e.accordion.collapseIcon),p(),s("ngIf",!e.accordion.collapseIcon)}}function it(i,a){if(i&1&&g(0,"span",11),i&2){let e=h(3);L(e.accordion.expandIcon),s("ngClass",e.iconClass),C("aria-hidden",!0)}}function nt(i,a){if(i&1&&g(0,"ChevronRightIcon",11),i&2){let e=h(3);s("ngClass",e.iconClass),C("aria-hidden",!0)}}function at(i,a){if(i&1&&(P(0),m(1,it,1,4,"span",9)(2,nt,1,2,"ChevronRightIcon",10),z()),i&2){let e=h(2);p(),s("ngIf",e.accordion.expandIcon),p(),s("ngIf",!e.accordion.expandIcon)}}function rt(i,a){if(i&1&&(P(0),m(1,tt,3,2,"ng-container",3)(2,at,3,2,"ng-container",3),z()),i&2){let e=h();p(),s("ngIf",e.selected),p(),s("ngIf",!e.selected)}}function ot(i,a){}function st(i,a){i&1&&m(0,ot,0,0,"ng-template")}function lt(i,a){if(i&1&&(l(0,"span",12),d(1),o()),i&2){let e=h();p(),Se(" ",e.header," ")}}function ct(i,a){i&1&&I(0)}function dt(i,a){i&1&&Q(0,1,["*ngIf","hasHeaderFacet"])}function pt(i,a){i&1&&I(0)}function mt(i,a){if(i&1&&(P(0),m(1,pt,1,0,"ng-container",6),z()),i&2){let e=h();p(),s("ngTemplateOutlet",e.contentTemplate)}}var ht=["*"],ge=(()=>{class i{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new O;headerFacet;templates;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(e,t,n){this.el=t,this.changeDetector=n,this.accordion=e,this.id=Fe()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected&&(this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(t){return new(t||i)(f(ye(()=>fe)),f($),f(j))};static \u0275cmp=y({type:i,selectors:[["p-accordionTab"]],contentQueries:function(t,n,r){if(t&1&&(W(r,He,4),W(r,ee,4)),t&2){let c;G(c=Z())&&(n.headerFacet=c),G(c=Z())&&(n.templates=c)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",w],cache:[2,"cache","cache",w],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",Ie]},outputs:{selectedChange:"selectedChange"},features:[k],ngContentSelectors:Ge,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(t,n){t&1&&(ae(We),l(0,"div",0)(1,"div",1)(2,"a",2),A("click",function(c){return n.toggle(c)})("keydown",function(c){return n.onKeydown(c)}),m(3,rt,3,2,"ng-container",3)(4,st,1,0,null,4)(5,lt,2,1,"span",5)(6,ct,1,0,"ng-container",6)(7,dt,1,0,"ng-content",3),o()(),l(8,"div",7)(9,"div",8),Q(10),m(11,mt,2,1,"ng-container",3),o()()()),t&2&&(ne("p-accordion-tab-active",n.selected),s("ngClass",n.tabStyleClass)("ngStyle",n.tabStyle),C("data-pc-name","accordiontab"),p(),ne("p-highlight",n.selected)("p-disabled",n.disabled),C("aria-level",n.headerAriaLevel)("data-p-disabled",n.disabled)("data-pc-section","header"),p(),s("ngClass",n.headerStyleClass)("ngStyle",n.headerStyle),C("tabindex",n.disabled?null:0)("id",n.getTabHeaderActionId(n.id))("aria-controls",n.getTabContentId(n.id))("aria-expanded",n.selected)("aria-disabled",n.disabled)("data-pc-section","headeraction"),p(),s("ngIf",!n.iconTemplate),p(),s("ngTemplateOutlet",n.iconTemplate)("ngTemplateOutletContext",x(34,Ze,n.selected)),p(),s("ngIf",!n.hasHeaderFacet),p(),s("ngTemplateOutlet",n.headerTemplate),p(),s("ngIf",n.hasHeaderFacet),p(),s("@tabContent",n.selected?x(38,Je,x(36,qe,n.transitionOptions)):x(42,Xe,x(40,qe,n.transitionOptions))),C("id",n.getTabContentId(n.id))("aria-hidden",!n.selected)("aria-labelledby",n.getTabHeaderActionId(n.id))("data-pc-section","toggleablecontent"),p(),s("ngClass",n.contentStyleClass)("ngStyle",n.contentStyle),p(2),s("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},dependencies:()=>[R,M,X,N,le,he],styles:[`@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}
`],encapsulation:2,data:{animation:[Oe("tabContent",[pe("hidden",de({height:"0",visibility:"hidden"})),pe("visible",de({height:"*",visibility:"visible"})),me("visible <=> hidden",[ce("{{transitionParams}}")]),me("void => *",ce(0))])]},changeDetection:0})}return i})(),fe=(()=>{class i{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new O;onOpen=new O;activeIndexChange=new O;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(e,t){this.el=e,this.changeDetector=t}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}focusedElementIsAccordionHeader(){return document.activeElement.tagName.toLowerCase()==="a"&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(e){if(this.focusedElementIsAccordionHeader()){let t=this.findNextHeaderAction(e.target.parentElement.parentElement.parentElement);t?this.changeFocusedTab(t):this.onTabHomeKey(e),e.preventDefault()}}onTabArrowUpKey(e){if(this.focusedElementIsAccordionHeader()){let t=this.findPrevHeaderAction(e.target.parentElement.parentElement.parentElement);t?this.changeFocusedTab(t):this.onTabEndKey(e),e.preventDefault()}}onTabHomeKey(e){let t=this.findFirstHeaderAction();this.changeFocusedTab(t),e.preventDefault()}changeFocusedTab(e){e&&(S.focus(e),this.selectOnFocus&&this.tabs.forEach((t,n)=>{let r=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),t.id==e.id&&(t.selected=!t.selected,this._activeIndex.includes(n)?this._activeIndex=this._activeIndex.filter(c=>c!==n):this._activeIndex.push(n))):t.id==e.id?(t.selected=!t.selected,this._activeIndex=n):t.selected=!1,t.selectedChange.emit(r),this.activeIndexChange.emit(this._activeIndex),t.changeDetector.markForCheck()}))}findNextHeaderAction(e,t=!1){let n=t?e:e.nextElementSibling,r=S.findSingle(n,'[data-pc-section="header"]');return r?S.getAttribute(r,"data-p-disabled")?this.findNextHeaderAction(r.parentElement.parentElement):S.findSingle(r,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,t=!1){let n=t?e:e.previousElementSibling,r=S.findSingle(n,'[data-pc-section="header"]');return r?S.getAttribute(r,"data-p-disabled")?this.findPrevHeaderAction(r.parentElement.parentElement):S.findSingle(r,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes[0];return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes,t=e[e.length-1];return this.findPrevHeaderAction(t,!0)}onTabEndKey(e){let t=this.findLastHeaderAction();this.changeFocusedTab(t),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t),this.tabs[e].changeDetector.markForCheck())}}isTabActive(e){return this.multiple?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,t){return e.props?e.props[t]:void 0}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((t,n)=>{if(t.selected)if(this.multiple)e.push(n);else{e=n;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(f($),f(j))};static \u0275cmp=y({type:i,selectors:[["p-accordion"]],contentQueries:function(t,n,r){if(t&1&&W(r,ge,5),t&2){let c;G(c=Z())&&(n.tabList=c)}},hostAttrs:[1,"p-element"],hostBindings:function(t,n){t&1&&A("keydown",function(c){return n.onKeydown(c)})},inputs:{multiple:[2,"multiple","multiple",w],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",w],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[k],ngContentSelectors:ht,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(t,n){t&1&&(ae(),l(0,"div",0),Q(1),o()),t&2&&(L(n.styleClass),s("ngClass","p-accordion p-component")("ngStyle",n.style))},dependencies:[R,N],encapsulation:2,changeDetection:0})}return i})(),Be=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=B({type:i});static \u0275inj=q({imports:[Y,le,he,te]})}return i})();var Ve=i=>({$implicit:i});function gt(i,a){i&1&&I(0)}function ft(i,a){if(i&1&&(l(0,"p"),m(1,gt,1,0,"ng-container",6),o()),i&2){let e=h(),t=E(10);p(),s("ngTemplateOutlet",e.noResultsTemplate?e.noResultsTemplate:t)}}function bt(i,a){i&1&&I(0)}function vt(i,a){if(i&1&&m(0,bt,1,0,"ng-container",10),i&2){let e=h().$implicit,t=h(),n=E(6);s("ngTemplateOutlet",t.headerTemplate?t.headerTemplate:n)("ngTemplateOutletContext",x(2,Ve,e))}}function _t(i,a){i&1&&I(0)}function Ct(i,a){if(i&1&&m(0,_t,1,0,"ng-container",10),i&2){let e=h().$implicit,t=h(),n=E(8);s("ngTemplateOutlet",t.contentTemplate?t.contentTemplate:n)("ngTemplateOutletContext",x(2,Ve,e))}}function yt(i,a){if(i&1&&(l(0,"p-accordionTab",7),m(1,vt,1,4,"ng-template",8)(2,Ct,1,4,"ng-template",9),o()),i&2){let e=a.$implicit;s("selected",!!e.expanded),C("id",e.id)}}function xt(i,a){if(i&1&&g(0,"span",11),i&2){let e=a.$implicit;s("innerHTML",e.header,H)}}function St(i,a){if(i&1&&g(0,"p",11),i&2){let e=a.$implicit;s("innerHTML",e.content,H)}}function Tt(i,a){i&1&&d(0,` No entries found
`)}var Ue=(()=>{let a=class a{constructor(t,n,r,c){this.router=t,this.activatedRoute=n,this.changeDetector=r,this.document=c,this.searchDebounceTime=250,this.highlightWords=!0,this.highlightClass="px-searchable-accordion-highlight",this.allowUrlFragments=!0,this.filteredEntries=new _e([]),this.activeEntryIndex=null,this.lastSearchString="",this.searchQueryRegex=/[^a-zA-Z0-9\s]/g}ngOnChanges(t){t.searchString?(this.lastSearchString="",this.searchSub?.unsubscribe(),delete this.searchSub,typeof this.searchString=="string"?this.search(this.searchString).then():(this.search(this.lastSearchString).then(),this.searchSub=this.searchString.pipe(Ce(this.searchDebounceTime)).subscribe(n=>this.search(n).then()))):t.entries&&(typeof this.searchString=="string"?this.search(this.searchString).then():this.search(this.lastSearchString).then())}ngAfterViewInit(){this.allowUrlFragments&&(this.routeFragmentsSub=this.activatedRoute.fragment.subscribe(t=>{if(t){let n=this.filteredEntries.getValue(),r=n.length;for(let c=0;c<r;c++){let v=n[c];if(v.id===t&&this.activeEntryIndex!==c){this.activeEntryIndex=c,this.changeDetector.detectChanges(),this.document.getElementById(v.id)?.scrollIntoView({behavior:"auto",block:"center",inline:"center"});break}}}}))}search(t){return be(this,null,function*(){if(t=t.replace(this.searchQueryRegex,"").trim().toLowerCase(),t===""){this.filteredEntries.next(this.entries);return}else if(t===this.lastSearchString)return;this.lastSearchString=t;let n=this.entries,r=n.length,c=[];for(let v=0;v<r;++v){let u=n[v],b=u.header.toLowerCase(),F=u.content.toLowerCase(),T=b.indexOf(t)!==-1,_=F.indexOf(t)!==-1;(T||_)&&c.push(this.highlightWords?{header:T?this.highlightString(u.header,b,t):u.header,content:_?this.highlightString(u.content,F,t):u.content,expanded:u.expanded,data:u.data}:u)}this.filteredEntries.next(c)})}activeIndexChanged(t){if(Array.isArray(t)&&(t=t[0]),this.activeEntryIndex=t,!(t&&this.allowUrlFragments))return;let n=this.filteredEntries.getValue();if(!n.length)return;let r=n[t];r.id&&this.router.navigate([],{fragment:r.id}).then()}highlightString(t,n,r){let c=[],v=t.length,u=this.highlightClass,b=[],F=!1;for(let T=0;T<v;++T){let _=t[T];if(F)_===">"&&(F=!1);else if(_==="<")F=!0;else if(r.indexOf(n[T])!==-1){b.push(_);continue}else b.length&&(b.length===r.length?_='<span class="'+u+'">'+b.join("")+"</span>"+_:_=b.join("")+_,b=[]);c.push(_)}return b.length&&(b.length===r.length?c.push('<span class="'+u+'">'+b.join("")+"</span>"):c.push(b.join(""))),c.join("")}ngOnDestroy(){this.searchSub?.unsubscribe(),this.filteredEntries.complete(),this.routeFragmentsSub?.unsubscribe()}};a.\u0275fac=function(n){return new(n||a)(f(we),f(De),f(j),f(se))},a.\u0275cmp=y({type:a,selectors:[["px-searchable-accordion"]],inputs:{entries:"entries",searchString:"searchString",headerTemplate:"headerTemplate",contentTemplate:"contentTemplate",noResultsTemplate:"noResultsTemplate",searchDebounceTime:"searchDebounceTime",highlightWords:"highlightWords",highlightClass:"highlightClass",allowUrlFragments:"allowUrlFragments"},standalone:!0,features:[ie,J],decls:11,vars:7,consts:[["defaultHeader",""],["defaultContent",""],["defaultNoResultsTemplate",""],[3,"activeIndexChange","activeIndex"],[4,"ngIf"],[3,"selected",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[3,"selected"],["pTemplate","header"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,r){if(n&1){let c=K();l(0,"p-accordion",3),A("activeIndexChange",function(u){return V(c),U(r.activeIndexChanged(u))}),m(1,ft,2,1,"p",4),re(2,"async"),m(3,yt,3,2,"p-accordionTab",5),re(4,"async"),o(),m(5,xt,1,1,"ng-template",null,0,D)(7,St,1,1,"ng-template",null,1,D)(9,Tt,1,0,"ng-template",null,2,D)}if(n&2){let c;s("activeIndex",r.activeEntryIndex),p(),s("ngIf",!((c=oe(2,3,r.filteredEntries))!=null&&c.length)),p(2),s("ngForOf",oe(4,5,r.filteredEntries))}},dependencies:[Be,fe,ge,ee,Ae,X,Ee,M],styles:[`.px-searchable-accordion-highlight{padding:0;margin:0;background:var(--highlight-bg);color:var(--highlight-text-color);font-weight:700}
`],encapsulation:2});let i=a;return i})();function It(i,a){if(i&1&&(l(0,"span",1),d(1),o()),i&2){let e=h();L(e.styleClass),s("ngClass",e.containerClass())("ngStyle",e.style),p(),xe(e.value)}}var $e=(()=>{class i{styleClass;style;badgeSize;severity;value;badgeDisabled=!1;set size(e){this._size=e,console.warn("size property is deprecated and will removed in v18, use badgeSize instead.")}get size(){return this._size}_size;containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.value!=null&&String(this.value).length===1,"p-badge-lg":this.badgeSize==="large"||this.size==="large","p-badge-xl":this.badgeSize==="xlarge"||this.size==="xlarge",[`p-badge-${this.severity}`]:this.severity}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",badgeSize:"badgeSize",severity:"severity",value:"value",badgeDisabled:[2,"badgeDisabled","badgeDisabled",w],size:"size"},features:[k],decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(t,n){t&1&&m(0,It,2,5,"span",0),t&2&&s("ngIf",!n.badgeDisabled)},dependencies:[R,M,N],styles:[`@layer primeng{.p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}}
`],encapsulation:2,changeDetection:0})}return i})(),Ke=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=B({type:i});static \u0275inj=q({imports:[Y,te]})}return i})();var Et=()=>["docIntl","docStyling"];function Dt(i,a){if(i&1&&(l(0,"div",16)(1,"span",17),d(2," Custom Header for:\xA0 "),g(3,"span",18),d(4," \xA0 "),g(5,"i",19),o(),g(6,"p-badge",20),o()),i&2){let e=a.$implicit;p(3),s("innerHTML",e.header,H)}}function wt(i,a){if(i&1&&(g(0,"span",18),d(1," \xA0 "),g(2,"i",19)),i&2){let e=a.$implicit;s("innerHTML",e.content,H)}}var Ti=(()=>{let a=class a{constructor(t){this.pxSearchableAccordionCodeExample=Ne,this.entries=[],this.entriesWithCustomTemplates=[],this.search$=new ve,this.form=t.group({config:t.group({config:["0"]})}),this.entries.push({id:"demo-entry",header:"Demo entry",content:`
                <h1>HTML Ipsum Presents</h1>
                <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

                <h2>Header Level 2</h2>

                <ol>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ol>

                <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p></blockquote>

                <h3>Header Level 3</h3>

                <ul>
                   <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
                   <li>Aliquam tincidunt mauris eu risus.</li>
                </ul>
            `});for(let n=1;n<5;++n)this.entries.push({id:"entry-"+n,header:"Entry "+n,content:'<strong>Description</strong> <a href="https://github.com/daniel1919-00/ng-prime-extensions" target="_blank">GitHub link</a>'})}};a.\u0275fac=function(n){return new(n||a)(f(ke))},a.\u0275cmp=y({type:a,selectors:[["app-px-searchable-accordion-docs"]],standalone:!0,features:[J],decls:86,vars:9,consts:[["customHeaderTemplate",""],["customContentTemplate",""],["header","px-table",3,"hiddenSections"],["docDescription","",1,"primary-color"],["href","https://primeng.org","target","_blank"],["docOverview",""],[3,"code"],[1,"dm:grid","dm:align-items-center","dm:justify-content-center"],["pInputText","","placeholder","Search",1,"dm:col","search-input",3,"input"],[3,"entries","searchString"],[3,"entries","headerTemplate","contentTemplate","searchString"],["docApi",""],[1,"entry-group"],[1,"title"],[1,"entry"],[1,"dm:quote","code"],[1,"dm:grid","dm:col-12","dm:justify-content-between","dm:align-content-center"],[1,"dm:col"],[3,"innerHTML"],[1,"pi","pi-heart"],["value","1",1,"dm:col-fixed"]],template:function(n,r){if(n&1){let c=K();l(0,"app-library-documentation",2)(1,"span",3)(2,"a",4),d(3,"PrimeNG-based"),o(),d(4," library used to create searchable accordions. "),o(),l(5,"div",5)(6,"app-code-example",6)(7,"div",7)(8,"input",8),A("input",function(u){return V(c),U(r.search$.next((u.target.value||"").trim()))}),o()(),g(9,"br"),l(10,"h2"),d(11,"Default accordion template"),o(),g(12,"px-searchable-accordion",9)(13,"br")(14,"br"),l(15,"h2"),d(16,"Custom accordion template"),o(),l(17,"px-searchable-accordion",10),m(18,Dt,7,1,"ng-template",null,0,D)(20,wt,3,1,"ng-template",null,1,D),o()()(),l(22,"div",11)(23,"div",12)(24,"h2",13),d(25,"Imports"),o(),l(26,"div",14)(27,"pre")(28,"code",15),d(29,"import { PxSearchableAccordionComponent } from '@ng-prime-extensions/px-searchable-accordion';"),o()()()(),l(30,"div",12)(31,"h2",13),d(32,"Inputs"),o(),l(33,"div",14)(34,"h3"),d(35,"entries"),o(),l(36,"p"),d(37,"Accordion entries to be rendered."),o()(),l(38,"div",14)(39,"h3"),d(40,"searchString"),o(),l(41,"p"),d(42,"A search string or an observable that emits the search string."),o()(),l(43,"div",14)(44,"h3"),d(45,"headerTemplate"),o(),l(46,"p"),d(47,"Template to render the header with."),o()(),l(48,"div",14)(49,"h3"),d(50,"contentTemplate"),o(),l(51,"p"),d(52,"Template to render the content with."),o()(),l(53,"div",14)(54,"h3"),d(55,"noResultsTemplate"),o(),l(56,"p"),d(57,"Template to render the no results message."),o()(),l(58,"div",14)(59,"h3"),d(60,"searchDebounceTime"),o(),l(61,"p"),d(62,"Search delay time in milliseconds."),o()(),l(63,"div",14)(64,"h3"),d(65,"highlightWords"),o(),l(66,"p"),d(67,"Weather searched words will be highlighted."),o()(),l(68,"div",14)(69,"h3"),d(70,"highlightClass"),o(),l(71,"p"),d(72,"The css class applied to the highlighted words."),o()(),l(73,"div",14)(74,"h3"),d(75,"allowUrlFragments"),o(),l(76,"p"),d(77,"If true, url fragments will be generated based on the set entry id."),o()()(),l(78,"div",12)(79,"h2",13),d(80,"Public methods"),o(),l(81,"div",14)(82,"h3"),d(83,"search"),o(),l(84,"p"),d(85,"Searches the available entries for the given search string."),o()()()()()}if(n&2){let c=E(19),v=E(21);s("hiddenSections",Te(8,Et)),p(6),s("code",r.pxSearchableAccordionCodeExample),p(6),s("entries",r.entries)("searchString",r.search$),p(5),s("entries",r.entriesWithCustomTemplates)("headerTemplate",c)("contentTemplate",v)("searchString",r.search$)}},dependencies:[Re,Le,Pe,Me,Ue,Ke,$e,je,ze],styles:[".search-input[_ngcontent-%COMP%]{max-width:500px}"]});let i=a;return i})();export{Ti as PxSearchableAccordionDocsComponent};
