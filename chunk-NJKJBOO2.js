import{A as Be,E as Re,d as Me,e as Oe,f as Se,h as Ie,i as Fe,j as De,k as Te,l as Ue,m as Ae,o as ke,p as Ne,q as Le,x as ze,y as Ve,z as Qe}from"./chunk-Z3MO2Q24.js";import{$ as o,Aa as v,Ba as fe,C as le,Gb as V,Ha as B,I as ae,Ia as R,Jb as ye,K as s,Ka as ge,L as P,Ma as xe,Na as he,Oa as _e,T as pe,U as _,Ua as N,V as O,Vb as Pe,W as p,Wa as ve,Wb as we,Xa as L,Ya as Ce,Z as y,Za as z,_ as F,aa as r,b as $,ba as h,bb as Ee,db as j,e as W,ea as I,fa as D,fb as be,ga as S,ha as f,i as J,k as Y,ka as se,la as de,ma as T,na as U,o as ee,oa as Q,p as te,pa as l,qa as b,r as ne,ra as ue,s as M,sa as me,t as ie,v as oe,w as re,wa as ce,x as C,xa as A,y as E,ya as g,za as k}from"./chunk-4CMOSILK.js";import{f as w}from"./chunk-EQDQRRRY.js";var je={ts:`
import {Component, OnDestroy} from '@angular/core';
import {LibraryDocumentationComponent} from "../../components/library-documentation/library-documentation.component";
import {CodeExampleComponent} from "../../components/code-example/code-example.component";
import {FormGroup, ReactiveFormsModule, UntypedFormBuilder} from "@angular/forms";
import {PxUploaderComponent} from "../../../../projects/px-uploader/src/lib/px-uploader.component";
import {PxEndpointConfig} from "../../../../projects/px-uploader/src/lib/px-uploader";
import {HttpClientModule} from "@angular/common/http";
import {DropdownModule} from "primeng/dropdown";
import {FloatLabelModule} from "primeng/floatlabel";
import {Subject, takeUntil} from "rxjs";

@Component({
  selector: 'app-px-uploader-docs',
  standalone: true,
    imports: [
        LibraryDocumentationComponent,
        ReactiveFormsModule,
        PxUploaderComponent,
        HttpClientModule,
        DropdownModule,
        FloatLabelModule
    ],
  templateUrl: './px-uploader-docs.component.html',
  styleUrl: './px-uploader-docs.component.scss'
})
export class PxUploaderDocsComponent implements OnDestroy {

    protected readonly pxUploaderCodeExample = pxUploaderCodeExample;
    protected form: FormGroup;
    saveEndpoint: PxEndpointConfig = {
        url: 'https://localhost/px-uploader'
    };

    private componentDestroyed$ = new Subject<void>();

    constructor(
        fb: UntypedFormBuilder
    ) {
        this.form = fb.group({
            multiple: ['0'],
            showImagePreview: ['1'],
            displayAs: ['list']
        });

        const storedFilters = localStorage.getItem('__px-uploader-config');
        if(storedFilters) {
            this.form.patchValue(JSON.parse(storedFilters));
        }

        this.form.valueChanges.pipe(takeUntil(this.componentDestroyed$)).subscribe(() => this.storeFilters());
    }

    private storeFilters() {
        localStorage.setItem('__px-uploader-config', JSON.stringify(this.form.value));
    }

    ngOnDestroy() {
        this.componentDestroyed$.next();
        this.componentDestroyed$.complete();
    }
}
    `,html:`
<h2>Configuration</h2>
<form [formGroup]="form" class="dm:grid dm:align-items-center">
    <p-floatLabel class="dm:col-12 dm:md:col-6 dm:lg:col-4 dm:xl:col-3">
        <p-dropdown [style]="{'width': '100%'}" inputId="[multiple]"
                    [options]="[{value: '0', desc: 'false'}, {value: '1', desc: 'true'}]"
                    optionLabel="desc" optionValue="value" formControlName="multiple"></p-dropdown>
        <label for="[multiple]">[multiple]</label>
    </p-floatLabel>

    <p-floatLabel class="dm:col-12 dm:md:col-6 dm:lg:col-4 dm:xl:col-3">
        <p-dropdown [style]="{'width': '100%'}" inputId="[showImagePreview]"
                    [options]="[{value: '0', desc: 'false'}, {value: '1', desc: 'true'}]"
                    optionLabel="desc" optionValue="value" formControlName="showImagePreview"></p-dropdown>
        <label for="[showImagePreview]">[showImagePreview]</label>
    </p-floatLabel>

    <p-floatLabel class="dm:col-12 dm:md:col-6 dm:lg:col-4 dm:xl:col-3">
        <p-dropdown [style]="{'width': '100%'}" inputId="[displayAs]"
                    [options]="[{value: 'list', desc: 'list'}, {value: 'grid', desc: 'grid'}]"
                    optionLabel="desc" optionValue="value" formControlName="displayAs"></p-dropdown>
        <label for="[displayAs]">[displayAs]</label>
    </p-floatLabel>
</form>

<br>
<h2>Result</h2>
<px-uploader
    [saveEndpoint]="saveEndpoint"
    label="My uploader"
    [multiple]="form.get('multiple')?.value === '1'"
    [showImagePreview]="form.get('showImagePreview')?.value === '1'"
    [displayAs]="form.get('displayAs')?.value || 'list'"
></px-uploader>
    `,styles:""};var x=function(t){return t[t.NO_FILES_MSG=0]="NO_FILES_MSG",t[t.UNKNOWN_ERROR=1]="UNKNOWN_ERROR",t[t.INVALID_EXTENSION=2]="INVALID_EXTENSION",t[t.MAX_SIZE_EXCEEDED=3]="MAX_SIZE_EXCEEDED",t[t.ALLOWED_EXTENSIONS=4]="ALLOWED_EXTENSIONS",t[t.MAX_FILE_SIZE=5]="MAX_FILE_SIZE",t[t.IMAGE_SIZE_CHECK_FAILED=6]="IMAGE_SIZE_CHECK_FAILED",t[t.IMAGE_SIZE_CHECK_TEXT=7]="IMAGE_SIZE_CHECK_TEXT",t}(x||{}),Ge=new te("px-uploader i18n strings");var Xe=(()=>{class t{constructor(){this.units=ne(V).translation.fileSizeTypes||["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}transform(e,i=1024,n=2){let a=this.units;if(Math.abs(e)<i)return e+""+a[0];let d=a.length-1,m=0,c=10**1;do e/=i,++m;while(Math.round(Math.abs(e)*c)/c>=i&&m<d);return e.toFixed(n)+" "+a[m]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=oe({name:"pxFileSize",type:t,pure:!0,standalone:!0})}}return t})();var Je=(t,u)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":t,"p-progressbar-indeterminate":u}),Ye=(t,u)=>({width:t,display:"flex",background:u}),et=t=>({$implicit:t}),tt=t=>({display:t}),nt=t=>({background:t});function it(t,u){if(t&1&&(o(0,"div",7),l(1),r()),t&2){let e=f(2);p("ngStyle",k(4,tt,e.value!=null&&e.value!==0?"flex":"none")),O("data-pc-section","label"),s(),me(" ",e.value,"",e.unit," ")}}function ot(t,u){t&1&&I(0)}function rt(t,u){if(t&1&&(o(0,"div",3)(1,"div",4),_(2,it,2,6,"div",5)(3,ot,1,0,"ng-container",6),r()()),t&2){let e=f();p("ngStyle",v(5,Ye,e.value+"%",e.color)),O("data-pc-section","value"),s(2),p("ngIf",e.showValue&&!e.contentTemplate),s(),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",k(8,et,e.value))}}function lt(t,u){if(t&1&&(o(0,"div",8),h(1,"div",3),r()),t&2){let e=f();O("data-pc-section","container"),s(),p("ngStyle",k(3,nt,e.color)),O("data-pc-section","value")}}var He=(()=>{class t{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=M({type:t,selectors:[["p-progressBar"]],contentQueries:function(i,n,a){if(i&1&&se(a,ye,4),i&2){let d;T(d=U())&&(n.templates=d)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",_e],showValue:[2,"showValue","showValue",he],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[pe],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(i,n){i&1&&(o(0,"div",0),_(1,rt,4,10,"div",1)(2,lt,2,5,"div",2),r()),i&2&&(F(n.styleClass),p("ngStyle",n.style)("ngClass",v(11,Je,n.mode==="determinate",n.mode==="indeterminate")),O("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),s(),p("ngIf",n.mode==="determinate"),s(),p("ngIf",n.mode==="indeterminate"))},dependencies:[N,L,z,Ce],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return t})(),Ze=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=ee({imports:[Ee]})}return t})();var pt=["fileInput"],st=(t,u)=>({"px-uploader":!0,dragover:t,"no-label":u}),dt=(t,u)=>({file:t,isQueuedFile:!1,fileIndex:u}),ut=(t,u)=>({file:t,isQueuedFile:!0,fileIndex:u}),mt=(t,u,e)=>[t,u,e],ct=()=>({height:"1.2rem"}),qe=()=>({"pointer-events":"visible"});function ft(t,u){if(t&1&&(o(0,"span",15),l(1),r()),t&2){let e=f();s(),ue(" ",e.intl[e.PxUploaderIntl.ALLOWED_EXTENSIONS]+": "+e.allowedExtensionsText," ")}}function gt(t,u){if(t&1&&(o(0,"span",15),l(1),r()),t&2){let e=f();s(),b(e.intl[e.PxUploaderIntl.IMAGE_SIZE_CHECK_TEXT]+": "+e.maxImageSizeText)}}function xt(t,u){if(t&1&&(o(0,"span",16),l(1),r()),t&2){let e=f();s(),b(e.infoMessage)}}function ht(t,u){if(t&1&&I(0,17),t&2){let e=u.$implicit,i=u.index;f();let n=Q(22);p("ngTemplateOutlet",n)("ngTemplateOutletContext",v(2,dt,e,i))}}function _t(t,u){if(t&1&&I(0,17),t&2){let e=u.$implicit,i=u.index;f();let n=Q(22);p("ngTemplateOutlet",n)("ngTemplateOutletContext",v(2,ut,e,i))}}function vt(t,u){if(t&1&&h(0,"p-progressBar",30),t&2){let e=f().file;y(g(4,ct)),p("mode",e.uploadProgress>0?"determinate":"indeterminate")("value",e.uploadProgress||0)}}function Ct(t,u){if(t&1&&h(0,"i",31),t&2){let e=f().file,i=f();F(e.isUploading?(i.icons==null?null:i.icons.fileStatusIconUploading)||"pi pi-spin pi-spinner":e.uploadError!==void 0?(i.icons==null?null:i.icons.fileStatusIconError)||"pi pi-times-circle":(i.icons==null?null:i.icons.fileStatusIconQueued)||"pi pi-hourglass")}}function Et(t,u){if(t&1){let e=D();o(0,"p-button",32),S("onClick",function(){C(e);let n=f(),a=n.isQueuedFile,d=n.fileIndex,m=f();return E(a?m.removeFileFromQueue(d):m.removeFile(d))}),r()}if(t&2){let e=f(2);y(g(3,qe)),p("icon",(e.icons==null?null:e.icons.removeFileButton)||"pi pi-trash")}}function bt(t,u){if(t&1){let e=D();o(0,"p-button",33),S("onClick",function(){C(e);let n=f().fileIndex,a=f();return E(a.retryUpload(n))}),r()}if(t&2){let e=f(2);y(g(3,qe)),p("icon",(e.icons==null?null:e.icons.retryUploadButton)||"pi pi-refresh")}}function yt(t,u){if(t&1&&h(0,"img",34),t&2){let e=f().file;p("src",e.imagePreviewUrl,ae)}}function Pt(t,u){if(t&1&&(o(0,"div",18),_(1,vt,1,5,"p-progressBar",19),o(2,"div",20)(3,"div",21),_(4,Ct,1,2,"i",22),o(5,"div",23)(6,"span",24),l(7),r(),o(8,"span",25),l(9),B(10,"pxFileSize"),r()()(),o(11,"div",26)(12,"div",21)(13,"span",24),l(14),r()(),_(15,Et,1,4,"p-button",27)(16,bt,1,4,"p-button",28),r()(),_(17,yt,1,1,"img",29),r()),t&2){let e=u.file,i=u.isQueuedFile,n=f();p("ngClass",fe(12,mt,n.displayAs,n.showImagePreview&&e.imagePreviewUrl?"preview":"",e.uploadError!==void 0?"px-uploader-error":"")),s(),p("ngIf",e.isUploading||i&&e.uploadError===void 0),s(),p("ngClass",e.uploadError?"error":"success"),s(2),p("ngIf",i),s(3),b(e.name),s(2),b(R(10,10,e.size||0)),s(5),b(e.uploadError),s(),p("ngIf",!e.isUploading&&(e.uploadError===void 0||e.allowDelete===void 0||e.allowDelete)),s(),p("ngIf",i&&e.uploadError!==void 0&&e.canRetryUpload),s(),p("ngIf",n.showImagePreview&&e.imagePreviewUrl)}}var Ke=(()=>{class t{constructor(e,i,n,a){this.http=e,this.changeDetector=i,this.primeNGConfig=n,this.label="",this.multiple=!1,this.displayAs="list",this.allowedExtensions=[],this.maxFileSize=5*1024*1024,this.maxParallelUploads=5,this.showImagePreview=!0,this.uploadFinished=new le,this._value=[],this.filesQueue=[],this.maxImageSizeText="",this.allowedExtensionsText="",this.hasFiles=!1,this.dragoverEventActive=!1,this.PxUploaderIntl=x,this.onChange=d=>d,this.onTouched=()=>{},this.isTouched=!1,this.isAngularFormValue=!1,this.uploadingFilesCount=0,this.processingUploadQueue=!1,this.intl=Object.assign({[x.NO_FILES_MSG]:"Drag & drop your files or click to browse",[x.UNKNOWN_ERROR]:"Upload Failed!",[x.INVALID_EXTENSION]:"Invalid file extension!",[x.MAX_SIZE_EXCEEDED]:"File size is too big!",[x.ALLOWED_EXTENSIONS]:"Allowed Extensions",[x.MAX_FILE_SIZE]:"Maximum file size",[x.IMAGE_SIZE_CHECK_FAILED]:"Maximum width or height exceeded.",[x.IMAGE_SIZE_CHECK_TEXT]:"Allowed image dimensions (HxW)"},a||{})}ngOnChanges(e){e.allowedExtensions&&(this.allowedExtensionsText=this.allowedExtensions.join(", "),!e.allowedExtensions.firstChange&&this.changeDetector.markForCheck()),e.maxImageSize&&this.maxImageSize?.length&&(this.maxImageSizeText=this.maxImageSize.map(i=>i.height+"x"+i.width).join(", "),!e.maxImageSize.firstChange&&this.changeDetector.markForCheck()),e.multiple&&!e.multiple.firstChange&&this.changeDetector.markForCheck()}openFilesInput(){this.fileInput.nativeElement.click()}get value(){return this._value}set value(e){Array.isArray(e)||(e=[e]),this._value=e,this.hasFiles=e.length>0,this.isAngularFormValue||(this.onChange(e),this.onTouched()),this.changeDetector.markForCheck()}writeValue(e){e&&(this.isAngularFormValue=!0,this.value=e,this.isAngularFormValue=!1)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=()=>!this.isTouched&&e}onFilesAdded(e){if(!(e&&e.length))return;this.multiple||(this.filesQueue[0]?.httpSubscription?.unsubscribe(),this.filesQueue=[],this.value=[],this.changeDetector.markForCheck());let i=this.multiple?e:[e[0]];for(let n=i.length;n--;){let a=i[n];this.checkFile(a).then(d=>{let m={name:a.name,uploadProgress:0,size:a.size,canRetryUpload:d==="",imagePreviewUrl:a.type.includes("image")?URL.createObjectURL(a):"",uploadedFile:a};d!==""&&(m.uploadError=d),this.filesQueue.push(m),this.processUploadQueue().then(),this.changeDetector.markForCheck()})}this.fileInput.nativeElement.value=""}processUploadQueue(){return w(this,null,function*(){if(this.processingUploadQueue||this.uploadingFilesCount===this.maxParallelUploads)return;this.processingUploadQueue=!0;let e=this.filesQueue,i=null,n=e.length,a=!1;for(let d=0;d<n;++d){let m=e[d];if(!m.uploadError){if(m.isUploading){a=!0;continue}i=m;break}}this.processingUploadQueue=!1,i?(i.httpSubscription=yield this.uploadFile(i),this.uploadingFilesCount<this.maxParallelUploads&&this.processUploadQueue().then()):a||this.uploadFinished.emit(this.value)})}uploadFile(e){return w(this,null,function*(){++this.uploadingFilesCount;let i=new FormData,n=e.uploadedFile,a=this.saveEndpoint,d=a.headers;e.isUploading=!0,i.append("file",n);let m=d instanceof Promise?yield d:d;return this.http.request(a.requestMethod||"POST",a.url,{reportProgress:!0,observe:"events",body:i,headers:m}).pipe(J(()=>(e.uploadError=this.intl[x.UNKNOWN_ERROR],e.isUploading=!1,delete e.uploadProgress,--this.uploadingFilesCount,this.changeDetector.markForCheck(),W({})))).subscribe(c=>{switch(c.type){case j.UploadProgress:e.uploadProgress=Math.floor(c.loaded/(c.total||1)*100),this.changeDetector.markForCheck();break;case j.Response:--this.uploadingFilesCount,this.multiple||(this._value=[]);let Z=this._value;Z.push({name:n.name,size:n.size,type:n.type,imagePreviewUrl:n.type.includes("image")?URL.createObjectURL(n):"",metaData:c.body||{}}),this.value=Z;let q=this.filesQueue,K=q.indexOf(e);K>-1&&q.splice(K,1),this.processUploadQueue();break}})})}retryUpload(e){let i=this.filesQueue[e];i&&(delete i.uploadError,this.processUploadQueue().then())}removeFileFromQueue(e){this.filesQueue.splice(e,1)}removeFile(e){return w(this,null,function*(){let i=this._value.splice(e,1)[0];if(this.deleteEndpoint){let n=this.deleteEndpoint,a=n.headers instanceof Promise?yield n.headers:n.headers;this.http.request(n.url,n.requestMethod||"DELETE",{body:[i],headers:a}).subscribe()}this.hasFiles=this._value.length>0})}onDragEnter(e){e.preventDefault(),this.dragoverEventActive=!0}onDragover(e){e.preventDefault(),this.dragoverEventActive||(this.dragoverEventActive=!0)}onDragLeave(e){e.preventDefault(),this.dragoverEventActive=!1}onFilesDropped(e){e.preventDefault();let i=e.dataTransfer?.files;i&&this.onFilesAdded(i),this.dragoverEventActive=!1}checkFile(e){return w(this,null,function*(){if(e.size>this.maxFileSize)return this.intl[x.MAX_SIZE_EXCEEDED];let i=this.allowedExtensions;if(i.length){let n=e.name.lastIndexOf(".");if(!(n>0&&i.indexOf(e.name.substring(n+1).toLowerCase())!==-1))return this.intl[x.INVALID_EXTENSION]}if(e.type.includes("image")&&this.maxImageSize?.length){let n=this.maxImageSize,a=yield this.getImageSize(URL.createObjectURL(e)),d=!0;for(let m=n.length;m--;){let c=n[m];if(c.width!==void 0&&c.height!==void 0&&c.width===a.width&&c.height===a.height){d=!1;break}else if(c.width!==void 0&&c.height===void 0&&c.width===a.width){d=!1;break}else if(c.height!==void 0&&c.width===void 0&&c.height===a.height){d=!1;break}}if(d)return this.intl[x.IMAGE_SIZE_CHECK_FAILED]}return""})}getImageSize(e){return w(this,null,function*(){return new Promise((i,n)=>{let a=new Image;a.onload=()=>{i({width:a.width,height:a.height})},a.onerror=()=>{n("Error loading image")},a.src=e})})}ngOnDestroy(){this.uploadFinished.complete()}static{this.\u0275fac=function(i){return new(i||t)(P(be),P(xe),P(V),P(Ge,8))}}static{this.\u0275cmp=M({type:t,selectors:[["px-uploader"]],viewQuery:function(i,n){if(i&1&&de(pt,5),i&2){let a;T(a=U())&&(n.fileInput=a.first)}},inputs:{saveEndpoint:"saveEndpoint",deleteEndpoint:"deleteEndpoint",label:"label",multiple:"multiple",displayAs:"displayAs",allowedExtensions:"allowedExtensions",maxFileSize:"maxFileSize",maxParallelUploads:"maxParallelUploads",showImagePreview:"showImagePreview",maxImageSize:"maxImageSize",icons:"icons",infoMessage:"infoMessage",value:"value"},outputs:{uploadFinished:"uploadFinished"},standalone:!0,features:[ce([{provide:Ie,multi:!0,useExisting:t}]),re,A],decls:23,vars:18,consts:[["fileInput",""],["file",""],[3,"dragleave","dragover","dragenter","drop","ngClass"],[1,"px-uploader-label"],[1,"px-uploader-info"],[2,"display","flex","align-items","center","flex-wrap","wrap"],[1,"px-uploader-upload-button",3,"onClick","icon","label"],[1,"px-uploader-info-primary"],[1,"px-uploader-msg"],[1,"px-uploader-info-secondary"],["class","px-uploader-info-secondary-msg",4,"ngIf"],["class","px-uploader-info-secondary-info-msg",4,"ngIf"],[1,"px-uploader-files"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["type","file",2,"display","none",3,"change","accept","multiple"],[1,"px-uploader-info-secondary-msg"],[1,"px-uploader-info-secondary-info-msg"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"px-uploader-file",3,"ngClass"],["class","px-uploader-file-upload-progress",3,"mode","value","style",4,"ngIf"],[1,"px-uploader-file-header",3,"ngClass"],[1,"px-uploader-file-info"],["class","px-uploader-file-status-icon",3,"class",4,"ngIf"],[1,"px-uploader-file-info","flex-column"],[1,"px-uploader-file-info-primary"],[1,"px-uploader-file-info-secondary"],[1,"px-uploader-file-info","actions"],["severity","warning",3,"icon","style","onClick",4,"ngIf"],[3,"icon","style","onClick",4,"ngIf"],["class","px-uploader-file-preview","alt","",3,"src",4,"ngIf"],[1,"px-uploader-file-upload-progress",3,"mode","value"],[1,"px-uploader-file-status-icon"],["severity","warning",3,"onClick","icon"],[3,"onClick","icon"],["alt","",1,"px-uploader-file-preview",3,"src"]],template:function(i,n){if(i&1){let a=D();o(0,"div",2),S("dragleave",function(m){return C(a),E(n.onDragLeave(m))})("dragover",function(m){return C(a),E(n.onDragover(m))})("dragenter",function(m){return C(a),E(n.onDragEnter(m))})("drop",function(m){return C(a),E(n.onFilesDropped(m))}),o(1,"label",3),l(2),r(),o(3,"div",4)(4,"div",5)(5,"p-button",6),S("onClick",function(){return C(a),E(n.openFilesInput())}),r(),o(6,"div",7)(7,"label",8),l(8),r()()(),o(9,"div",9),_(10,ft,2,1,"span",10),o(11,"span"),l(12),B(13,"pxFileSize"),r(),_(14,gt,2,1,"span",10)(15,xt,2,1,"span",11),r()(),o(16,"div",12),_(17,ht,1,5,"ng-container",13)(18,_t,1,5,"ng-container",13),r()(),o(19,"input",14,0),S("change",function(m){return C(a),E(n.onFilesAdded(m.target.files))}),r(),_(21,Pt,18,16,"ng-template",null,1,ge)}i&2&&(p("ngClass",v(15,st,n.dragoverEventActive,n.label==="")),s(2),b(n.label),s(3),p("icon",(n.icons==null?null:n.icons.uploadButton)||"pi pi-upload")("label",n.primeNGConfig.translation.upload),s(3),b(n.intl[n.PxUploaderIntl.NO_FILES_MSG]),s(2),p("ngIf",n.allowedExtensions.length),s(2),b(n.intl[n.PxUploaderIntl.MAX_FILE_SIZE]+": "+R(13,13,n.maxFileSize)),s(2),p("ngIf",n.maxImageSizeText),s(),p("ngIf",n.infoMessage),s(2),p("ngForOf",n._value),s(),p("ngForOf",n.filesQueue),s(),p("accept",n.allowedExtensions.length?"."+n.allowedExtensions.join(",."):null)("multiple",n.multiple))},dependencies:[Xe,z,N,Ze,He,L,ve,we,Pe],styles:['.px-uploader[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:column;box-sizing:border-box;min-height:50px;border:1px solid var(--surface-border);border-radius:var(--border-radius);background:var(--surface-card);color:inherit;padding:var(--content-padding)}.px-uploader[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .px-uploader[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:before, .px-uploader[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:inherit}.px-uploader[_ngcontent-%COMP%]   .px-uploader-label[_ngcontent-%COMP%]{color:inherit;font-size:1.3rem;font-weight:700;padding-bottom:calc(var(--content-padding) * .8)}.px-uploader.no-label[_ngcontent-%COMP%]   .px-uploader-label[_ngcontent-%COMP%]{display:none}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;color:inherit}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-upload-button[_ngcontent-%COMP%]{margin:1rem 1rem 1rem 0}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-primary[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;color:inherit;padding-right:.8rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-primary[_ngcontent-%COMP%]   .px-uploader-msg[_ngcontent-%COMP%]{color:inherit}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-secondary[_ngcontent-%COMP%]{display:flex;color:inherit;flex-wrap:wrap;flex-shrink:1;flex-direction:column;justify-items:center;font-size:.9rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-secondary[_ngcontent-%COMP%]   .px-uploader-info-secondary-info-msg[_ngcontent-%COMP%]{max-width:30rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;max-height:var(--px-uploader-files-container-max-height, 20rem);overflow-y:auto}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]:not(:empty){border-top:1px solid var(--surface-border)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;position:relative;border:1px solid var(--surface-border);border-radius:var(--border-radius)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.list[_ngcontent-%COMP%]{flex-shrink:0;width:100%;margin-top:.8rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.grid[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:1;flex-basis:auto;margin:.4em}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]{height:var(--px-uploader-file-preview-height, 14rem)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:nowrap;width:100%;padding:var(--content-padding);z-index:2;border-radius:var(--border-radius) var(--border-radius) 0 0}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info.flex-column[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]   .px-uploader-file-status-icon[_ngcontent-%COMP%]{font-size:var(--px-uploader-file-info-status-icon-font-size, 2rem)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]   .px-uploader-file-info-primary[_ngcontent-%COMP%]{text-rendering:optimizeLegibility;font-weight:var(--px-uploader-file-info-primary-font-weight, 500);font-size:var(--px-uploader-file-info-primary-font-size, 1rem);padding:0 .4rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info[_ngcontent-%COMP%]   .px-uploader-file-info-secondary[_ngcontent-%COMP%]{text-rendering:optimizeLegibility;font-size:var(--px-uploader-file-info-secondary-font-size, .8rem);padding:0 .4rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info.actions[_ngcontent-%COMP%]{flex-wrap:nowrap;flex-direction:row;align-items:center}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]   .px-uploader-file-info.actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:.4rem}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]{height:var(--px-uploader-file-preview-height, 18rem)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--primary-color),transparent 40%);color:var(--primary-color-text)}@supports (-webkit-backdrop-filter: blur(.2em)) or (backdrop-filter: blur(.2em)){.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.preview[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(.18rem);backdrop-filter:blur(.18rem)}}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file.px-uploader-error.preview[_ngcontent-%COMP%]   .px-uploader-file-header[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--red-500),transparent 40%);color:var(--px-uploader-file-preview-header-background-color-error, white)}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-preview[_ngcontent-%COMP%]{position:absolute;object-fit:contain;width:100%;height:100%;inset:0}.px-uploader[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]   .px-uploader-file[_ngcontent-%COMP%]   .px-uploader-file-upload-progress[_ngcontent-%COMP%]{width:100%;z-index:3}.px-uploader.dragover[_ngcontent-%COMP%]{border:1px solid var(--surface-border)}.px-uploader.dragover[_ngcontent-%COMP%]:before, .px-uploader.dragover[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-2px;border:2px solid var(--primary-color);transition:all .5s;animation:_ngcontent-%COMP%_dragoverClip 3s infinite linear;border-radius:var(--border-radius)}.px-uploader.dragover[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_dragoverClip 3s infinite -1.5s linear}.px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]{pointer-events:none}.px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-primary[_ngcontent-%COMP%], .px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-info[_ngcontent-%COMP%]   .px-uploader-info-secondary[_ngcontent-%COMP%]{color:var(--primary-color)}.px-uploader.dragover[_ngcontent-%COMP%]   .px-uploader-files[_ngcontent-%COMP%]{pointer-events:none}@keyframes _ngcontent-%COMP%_dragoverClip{0%,to{clip-path:inset(0 0 98% 0)}25%{clip-path:inset(0 98% 0 0)}50%{clip-path:inset(98% 0 0 0)}75%{clip-path:inset(0 0 0 98%)}}']})}}return t})();var wt=()=>["docIntl","docStyling"],X=()=>({width:"100%"}),$e=()=>({value:"0",desc:"false"}),We=()=>({value:"1",desc:"true"}),H=(t,u)=>[t,u],Mt=()=>({value:"list",desc:"list"}),Ot=()=>({value:"grid",desc:"grid"}),wn=(()=>{class t{constructor(e){this.pxUploaderCodeExample=je,this.saveEndpoint={url:"https://localhost/px-uploader"},this.componentDestroyed$=new $,this.form=e.group({label:["My uploader"],multiple:["0"],showImagePreview:["1"],displayAs:["list"]});let i=localStorage.getItem("__px-uploader-config");i&&this.form.patchValue(JSON.parse(i)),this.form.valueChanges.pipe(Y(this.componentDestroyed$)).subscribe(()=>this.storeFilters())}storeFilters(){localStorage.setItem("__px-uploader-config",JSON.stringify(this.form.value))}ngOnDestroy(){this.componentDestroyed$.next(),this.componentDestroyed$.complete()}static{this.\u0275fac=function(i){return new(i||t)(P(Ne))}}static{this.\u0275cmp=M({type:t,selectors:[["app-px-uploader-docs"]],standalone:!0,features:[A],decls:116,vars:36,consts:[["header","px-uploader",3,"hiddenSections"],["docDescription","",1,"primary-color"],["href","https://primeng.org","target","_blank"],["docOverview",""],[3,"code"],[1,"dm:grid","dm:align-items-center",3,"formGroup"],[1,"dm:col-12","dm:md:col-6","dm:lg:col-4","dm:xl:col-3"],["type","text","id","[label]","pInputText","","formControlName","label"],["for","[label]"],["inputId","[multiple]","optionLabel","desc","optionValue","value","formControlName","multiple",3,"options"],["for","[multiple]"],["inputId","[showImagePreview]","optionLabel","desc","optionValue","value","formControlName","showImagePreview",3,"options"],["for","[showImagePreview]"],["inputId","[displayAs]","optionLabel","desc","optionValue","value","formControlName","displayAs",3,"options"],["for","[displayAs]"],[3,"saveEndpoint","label","multiple","showImagePreview","displayAs"],["docApi",""],[1,"entry-group"],[1,"title"],[1,"entry"],[1,"dm:quote","code"],[1,"dm:quote"]],template:function(i,n){if(i&1&&(o(0,"app-library-documentation",0)(1,"span",1)(2,"a",2),l(3,"PrimeNG-based"),r(),l(4," library used to upload files. "),r(),o(5,"div",3)(6,"app-code-example",4)(7,"h2"),l(8,"Configuration"),r(),o(9,"form",5)(10,"p-floatLabel",6),h(11,"input",7),o(12,"label",8),l(13,"[label]"),r()(),o(14,"p-floatLabel",6),h(15,"p-dropdown",9),o(16,"label",10),l(17,"[multiple]"),r()(),o(18,"p-floatLabel",6),h(19,"p-dropdown",11),o(20,"label",12),l(21,"[showImagePreview]"),r()(),o(22,"p-floatLabel",6),h(23,"p-dropdown",13),o(24,"label",14),l(25,"[displayAs]"),r()()(),h(26,"br"),o(27,"h2"),l(28,"Result"),r(),h(29,"px-uploader",15),r()(),o(30,"div",16)(31,"div",17)(32,"h2",18),l(33,"Imports"),r(),o(34,"div",19)(35,"pre")(36,"code",20),l(37,"import { PxUploaderComponent } from '@ng-prime-extensions/px-uploader';"),r()()()(),o(38,"div",17)(39,"h2",18),l(40,"Inputs"),r(),o(41,"div",19)(42,"h3"),l(43,"saveEndpoint"),r(),o(44,"p"),l(45,"Endpoint that handles the upload."),r(),o(46,"pre")(47,"code",21),l(48,`export interface PxEndpointConfig {
    url: string;
    requestMethod?: string;
    headers?: HttpHeaders | { [p: string]: string | string[] { | Promise<HttpHeaders | {
        [p: string]: string | string[]
    }>;
}`),r()()(),o(49,"div",19)(50,"h3"),l(51,"deleteEndpoint"),r(),o(52,"p"),l(53,"Endpoint that handles file removal."),r()(),o(54,"div",19)(55,"h3"),l(56,"label"),r(),o(57,"p"),l(58,"Uploader label."),r()(),o(59,"div",19)(60,"h3"),l(61,"multiple"),r(),o(62,"p"),l(63,"Allow multiple files?"),r()(),o(64,"div",19)(65,"h3"),l(66,"displayAs"),r(),o(67,"p"),l(68,"Determines how the added files are rendered."),r()(),o(69,"div",19)(70,"h3"),l(71,"allowedExtensions"),r(),o(72,"p"),l(73,"A list of allowed file extensions(lowercase), if empty the extension check is skipped."),r(),o(74,"p"),l(75,"Example: ['txt', 'xlsx', ...]"),r()(),o(76,"div",19)(77,"h3"),l(78,"maxFileSize"),r(),o(79,"p"),l(80,"Maximum file size in bytes. Default: 5MB."),r()(),o(81,"div",19)(82,"h3"),l(83,"maxParallelUploads"),r(),o(84,"p"),l(85,"How many files should we upload in parallel?"),r()(),o(86,"div",19)(87,"h3"),l(88,"showImagePreview"),r(),o(89,"p"),l(90,"Whether to show a preview when the uploaded file is an image."),r()(),o(91,"div",19)(92,"h3"),l(93,"maxImageSize"),r(),o(94,"p"),l(95,"Limits the maximum width and/or height of uploaded images."),r(),o(96,"p"),l(97,'Multiple sizes can be added in the array, for example you can check if the uploaded image has a width of 100 by passing [maxImageSize]="[{width: 100}]"'),r()(),o(98,"div",19)(99,"h3"),l(100,"icons"),r(),o(101,"p"),l(102,"Overwrite the default icons used."),r()(),o(103,"div",19)(104,"h3"),l(105,"infoMessage"),r(),o(106,"p"),l(107,"Additional message to be displayed to the user."),r()()(),o(108,"div",17)(109,"h2",18),l(110,"Outputs"),r(),o(111,"div",19)(112,"h3"),l(113,"uploadFinished"),r(),o(114,"p"),l(115,"Event triggered when all the files in the upload queue are uploaded."),r()()()()()),i&2){let a,d,m,c;p("hiddenSections",g(17,wt)),s(6),p("code",n.pxUploaderCodeExample),s(3),p("formGroup",n.form),s(6),y(g(18,X)),p("options",v(21,H,g(19,$e),g(20,We))),s(4),y(g(24,X)),p("options",v(27,H,g(25,$e),g(26,We))),s(4),y(g(30,X)),p("options",v(33,H,g(31,Mt),g(32,Ot))),s(6),p("saveEndpoint",n.saveEndpoint)("label",(a=n.form.get("label"))==null?null:a.value)("multiple",((d=n.form.get("multiple"))==null?null:d.value)==="1")("showImagePreview",((m=n.form.get("showImagePreview"))==null?null:m.value)==="1")("displayAs",((c=n.form.get("displayAs"))==null?null:c.value)||"list")}},dependencies:[Re,Me,Le,Ue,Fe,De,Te,Ae,ke,Ke,Ve,ze,Se,Oe,Be,Qe],styles:["p-floatLabel[_ngcontent-%COMP%]{margin:16px 0}input[_ngcontent-%COMP%]{width:100%}"]})}}return t})();export{wn as PxUploaderDocsComponent};
